!function(a,b){"use strict";b.module("mwUI",["mwUI.Backbone","mwUI.ExceptionHandler","mwUI.Form","mwUI.Inputs","mwUI.i18n","mwUI.Layout","mwUI.List","mwUI.Menu","mwUI.Modal","mwUI.ResponseHandler","mwUI.Toast","mwUI.ResponseToastHandler","mwUI.Utils","mwUI.UiComponents"]).config(["i18nProvider","mwIconProvider",function(a,b){a.addLocale("de_DE","Deutsch","de_DE.json"),a.addLocale("en_US","English (US)","en_US.json"),b.addIconSet({id:"mwUI",classPrefix:"fa",iconsUrl:"uikit/mw_ui_icons.json"},!0)}]).run(["i18n",function(a){a.setLocale("en_US")}]),window.mCAP=window.mCAP||{},a.mwUI={},b.module("mwUI").run(["$templateCache",function(a){a.put("uikit/mw-exception-handler/modals/templates/mw_exception_modal.html",'<div mw-modal title="{{\'ExceptionHandler.mwExceptionModal.title\' | i18n}}"><div mw-modal-body><div mw-wizard="wizard"><div mw-wizard-step><p>{{\'ExceptionHandler.mwExceptionModal.unknownError\' | i18n}}</p><div ng-if="exception && (displayException || !successCallback)" mw-alert="danger"><p>{{exception}}</p></div><div ng-if="userCanEnterMessage && successCallback"><p class="text-muted">{{\'ExceptionHandler.mwExceptionModal.userMessage\' | i18n}}</p><textarea name="description" ng-attr-placeholder="{{\'ExceptionHandler.mwExceptionModal.userMessagePlaceholder\' | i18n}}" ng-model="model.bugDescription">\n\n          </textarea></div></div><div mw-wizard-step><div mw-alert="success">{{\'ExceptionHandler.mwExceptionModal.thanks\' | i18n}}</div></div></div></div><div mw-modal-footer><button ng-if="wizard.getCurrentStepNumber()!==1" type="button" class="btn btn-default" ng-click="cancel()">{{\'Utils.cancel\' | i18n }}</button> <button ng-if="wizard.getCurrentStepNumber()===1 || !successCallback" type="button" ng-click="close()" class="btn btn-primary">{{\'Utils.ok\' | i18n }}</button> <button ng-if="wizard.getCurrentStepNumber()===0 && successCallback" type="button" ng-click="report()" class="btn btn-primary">{{\'ExceptionHandler.mwExceptionModal.report\' | i18n}}</button></div></div>'),a.put("uikit/mw-form/directives/templates/mw_checkbox_wrapper.html",'<div class="mw-checkbox-wrapper form-group"><div class="col-sm-offset-3 col-sm-9"><div class="checkbox"><label><div ng-transclude></div><span class="text-holder">{{ label }}</span></label><span ng-if="tooltip" mw-icon="rln-icon support" tooltip="{{ tooltip }}"></span></div></div></div>'),a.put("uikit/mw-form/directives/templates/mw_error_messages.html",'<div class="mw-error-messages"><ul ng-repeat="errorModel in errors().models"><li class="error-message">{{getMessageForError(errorModel)}}</li></ul></div>'),a.put("uikit/mw-form/directives/templates/mw_input_wrapper.html","<div class=\"mw-input-wrapper form-group input-{{getType()}}\" ng-model-errors ng-class=\"{\n      'is-required': isRequired(),\n      'is-focused': isFocused(),\n      'is-touched': isTouched(),\n      'is-dirty': isDirty(),\n      'is-invalid': !isValid(),\n      'is-required-error':hasRequiredError(),\n      'has-error': hasError()\n"+'     }"><div class="clearfix"><label ng-if="label" class="col-sm-3 control-label">{{ label }} <span ng-if="tooltip" mw-tooltip="{{ tooltip }}"><span mw-icon="mwUI.questionCircle"></span></span></label><div class="input-holder" ng-class="{ true: \'col-sm-6 col-lg-5\', false: \'col-sm-12\' }[label.length > 0]" ng-transclude></div></div><div ng-if="!hideErrors" ng-class="{ true: \'col-sm-6 col-sm-offset-3\', false: \'col-sm-12\' }[label.length > 0]"><div mw-error-messages></div></div></div>'),a.put("uikit/mw-inputs/directives/templates/mw_checkbox_group.html",'<fieldset class="mw-checkbox-group" ng-disabled="mwDisabled"><div ng-repeat="model in mwOptionsCollection.models"><label><input type="checkbox" ng-disabled="isOptionDisabled(model)" ng-checked="mwCollection.findWhere(model.toJSON())" ng-click="toggleModel(model); setDirty()"> <span class="checkbox-label">{{getLabel(model)}}</span></label></div><input type="hidden" ng-model="viewModel.tmp" ng-required="mwRequired" mw-collection="mwCollection"></fieldset>'),a.put("uikit/mw-inputs/directives/templates/mw_radio_group.html",'<fieldset class="mw-radio-group" ng-disabled="mwDisabled"><div ng-repeat="model in mwOptionsCollection.models"><label><input type="radio" ng-disabled="isOptionDisabled(model)" ng-checked="isChecked(model)" name="{{radioGroupId}}" ng-click="selectOption(model);"> <span class="radio-label">{{getLabel(model)}}</span></label></div><input type="hidden" ng-model="viewModel.tmp" ng-required="mwRequired" mw-model="mwModel" mw-model-attr="{{getModelAttribute()}}"></fieldset>'),a.put("uikit/mw-inputs/directives/templates/mw_select_box.html",'<select ng-disabled="mwDisabled" ng-required="mwRequired" ng-model="viewModel.selected" ng-change="select(viewModel.selected)"><option value="" ng-if="hasPlaceholder()" ng-disabled="mwRequired">{{getPlaceholder()}}</option><option value="" ng-if="!hasPlaceholder()"></option><option ng-repeat="model in mwOptionsCollection.models" value="{{model.id}}" ng-disabled="isOptionDisabled(model)" ng-selected="isChecked(model)" ng-click="selectOption(model)">{{getLabel(model)}}</option></select>'),a.put("uikit/mw-inputs/directives/templates/mw_toggle.html",'<div class="mw-toggle"><button class="no toggle btn btn-link" ng-click="toggle(true)" ng-disabled="mwDisabled"><span>{{ \'UiComponents.mwToggle.on\' | i18n }}</span></button> <button class="yes toggle btn btn-link" ng-click="toggle(false)" ng-disabled="mwDisabled"><span>{{ \'UiComponents.mwToggle.off\' | i18n }}</span></button> <span class="label indicator" ng-class="{ true: \'label-success enabled\', false: \'label-danger\' }[mwModel]"></span></div>'),a.put("uikit/mw-layout/directives/templates/mw_app.html",'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Title</title></head><body></body></html>'),a.put("uikit/mw-layout/directives/templates/mw_header.html",'<div class="mw-header row"><div class="fixed-content col-md-12"><div ng-if="showBackButton" class="back-btn clickable" data-text="{{\'common.back\' | i18n}}" ng-click="back()"><span mw-icon="mwUI.angleLeft"></span></div><div class="title-holder"><span mw-icon="{{mwTitleIcon}}" class="header-icon" ng-if="mwTitleIcon"></span><div ng-if="mwBreadCrumbs" mw-bread-crumbs-holder><div ng-repeat="breadCrumb in mwBreadCrumbs" mw-bread-crumb url="{{breadCrumb.url}}" title="{{breadCrumb.title}}" show-arrow="true"></div></div><h1 class="lead page-title" ng-click="refresh()">{{title}}</h1></div><div ng-if="warningCondition" class="warnin-content" mw-tooltip="{{ warningText }}"><span class="text-warning" mw-icon="mwUI.warning"></span> <span class="popover-container"></span></div><div class="additional-content-holder" ng-transclude></div></div></div>'),a.put("uikit/mw-layout/directives/templates/mw_sub_nav.html",'<div class="row"><div class="mw-sub-nav col-md-12"><ul class="nav nav-pills" ng-class="{\'nav-justified\':justified}" ng-transclude></ul></div></div>'),a.put("uikit/mw-layout/directives/templates/mw_sub_nav_pill.html",'<li class="mw-sub-nav-pill" ng-class="{mwDisabled: mwDisabled}"><div class="btn btn-link" ng-click="navigate(url)" ng-class="{disabled: mwDisabled}" ng-transclude></div></li>'),a.put("uikit/mw-list/directives/templates/mw_list_body_row_checkbox.html",'<input ng-if="!isSingleSelection" type="checkbox" ng-click="click(item, $event)" ng-disabled="item.selectable.isDisabled()" ng-checked="item.selectable.isSelected()" mw-custom-checkbox> <input ng-if="isSingleSelection" type="radio" name="{{selectable.id}}" ng-click="click(item, $event)" ng-disabled="item.selectable.isDisabled()" ng-checked="item.selectable.isSelected()" mw-custom-radio>'),a.put("uikit/mw-list/directives/templates/mw_list_footer.html",'<tr class="mw-list-footer"><td colspan="{{ columns.length + 4 }}"><div ng-if="showSpinner()"><div mw-spinner></div></div><div ng-if="collection.models.length < 1" class="text-center"><p class="lead">{{ \'List.mwListFooter.noneFound\' | i18n }}</p></div></td></tr>'),a.put("uikit/mw-list/directives/templates/mw_list_head.html",'<div class="mw-listable-header clearfix" ng-class="{\'show-selected\':canShowSelected(),\'has-selection-control\':!selectable.isSingleSelection() || selectedAmount > 0}"><div class="selection-controller"><div ng-if="selectable" class="holder"><span ng-click="toggleSelectAll()" class="clickable select-all" ng-if="!selectable.isSingleSelection()"><span class="selected-icon"><span class="indicator" ng-if="selectable.allSelected()"></span></span> <a href="#" mw-prevent-default="click">{{\'List.mwListHead.selectAll\' | i18n }}</a></span> <span ng-if="selectedAmount > 0" class="clickable clear" ng-click="selectable.unSelectAll()"><span mw-icon="mwUI.cross"></span> <a href="#" mw-prevent-default="click">{{\'List.mwListHead.clearSelection\' | i18n}}</a></span></div></div><div class="search-bar"><div ng-if="searchAttribute" mw-filterable-search-bb collection="collection" placeholder="{{\'List.mwListHead.searchFor\' | i18n:{name: collectionName} }}" property="{{searchAttribute}}"></div></div><div class="selected-counter"><span ng-if="selectable && selectedAmount>0" class="clickable" ng-click="toggleShowSelected()"><a href="#" mw-prevent-default="click"><span ng-if="selectedAmount === 1">{{\'List.mwListHead.itemSelected\' | i18n:{name: getModelAttribute(selectable.getSelected().first())} }}</span> <span ng-if="selectedAmount > 1">{{\'List.mwListHead.itemsSelected\' | i18n:{name: collectionName, count: selectedAmount} }}</span> <span mw-icon="mwUI.angleUp" ng-show="canShowSelected()"></span> <span mw-icon="mwUI.angleDown" ng-show="!canShowSelected()"></span></a></span><div ng-if="!selectable || selectedAmount<1" ng-transclude class="extra-content"></div><span ng-if="!selectable || selectedAmount<1">{{\'List.mwListHead.itemAmount\' | i18n:{name: collectionName, count: getTotalAmount()} }}</span></div><div class="selected-items" ng-if="canShowSelected()"><div class="items clearfix"><div class="box-shadow-container"><div ng-if="!isLoadingModelsNotInCollection" ng-repeat="item in selectable.getSelected().models" ng-click="unSelect(item)" ng-class="{\'label-danger\':item.selectable.isDeletedItem}" class="label label-default clickable"><span ng-if="item.selectable.isDeletedItem" mw-tooltip="{{\'List.mwListHead.notAvailableTooltip\' | i18n}}"><span mw-icon="mwUI.warning"></span>{{\'List.mwListHead.notAvailable\' | i18n}}</span> <span ng-if="!item.selectable.isDeletedItem">{{getModelAttribute(item)}}</span> <span mw-icon="mwUI.cross"></span></div><div ng-if="isLoadingModelsNotInCollection"><div rln-spinner></div></div></div></div><div class="close-pane" ng-click="hideSelected()"></div></div></div>'),a.put("uikit/mw-list/directives/templates/mw_list_header.html",'<th ng-class="{ clickable: property, \'sort-active\':(property && isSelected())||sortActive }"><span ng-if="property" ng-click="toggleSortOrder()" class="sort-indicators"><i ng-show="property && !isSelected()" mw-icon="mwUI.sort" class="sort-indicator"></i> <i ng-if="isSelected(\'-\')" mw-icon="mwUI.sortAsc"></i> <i ng-if="isSelected(\'+\')" mw-icon="mwUI.sortDesc"></i></span> <span ng-transclude class="title"></span></th>'),a.put("uikit/mw-menu/directives/templates/mw_menu.html",'<div class="mw-menu"><div ng-repeat="entry in menu.models" mw-menu-entry="entry"></div></div>'),a.put("uikit/mw-menu/directives/templates/mw_menu_entry.html",'<div class="mw-menu-entry" ng-class="{active:menuEntryCtrl.isActive}"><div class="mw-icon"><span class="fa fa-user"></span></div><div class="extended-content"><span class="entry-label">{{menuEntryCtrl.entry.get(\'label\')}}</span><div class="sub-entries" ng-repeat="subEntry in menuEntryCtrl.entry.get(\'subEntries\').models" mw-menu-sub-entry="subEntry"></div></div></div>'),a.put("uikit/mw-menu/directives/templates/mw_menu_sub_entry.html",'<div class="mw-menu-sub-entry" ng-class="{active: menuSubEntryCtrl.isActive}"><div class="entry-label"><span>{{menuSubEntryCtrl.entry.get(\'label\')}}</span></div></div>'),a.put("uikit/mw-menu/directives/templates/mw_sidebar_menu.html",'<div class="mw-sidebar-menu" ng-class="{opened:ctrl.isOpened()}"><div ng-if="ctrl.mwMenuLogo" class="logo"><img ng-src="{{ctrl.mwMenuLogo}}"></div><div mw-menu="ctrl.mwMenu"></div><div class="additional-content" ng-transclude></div><div class="opener clickable" ng-click="ctrl.toggleState()"><span class="mw-icon"><span ng-if="ctrl.isOpened()" class="fa fa-angle-left"></span> <span ng-if="!ctrl.isOpened()" class="fa fa-angle-right"></span></span></div></div>'),a.put("uikit/mw-modal/directives/templates/mw_modal.html",'<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header clearfix" ng-if="title"><img ng-if="mwModalTmpl.getLogoPath()" ng-src="{{mwModalTmpl.getLogoPath()}}" class="pull-left logo"><h4 class="modal-title pull-left">{{ title }}</h4></div><div class="body-holder"><div mw-toasts class="notifications"></div><div ng-transclude class="modal-content-wrapper"></div></div></div></div></div>'),a.put("uikit/mw-modal/directives/templates/mw_modal_body.html",'<div class="modal-body clearfix" ng-transclude></div>'),a.put("uikit/mw-modal/directives/templates/mw_modal_confirm.html",'<div mw-modal title="{{ \'Modal.mwModalConfirm.areYouSure\' | i18n }}"><div mw-modal-body><div ng-transclude></div></div><div mw-modal-footer><button type="button" class="btn btn-default" data-dismiss="modal" ng-click="cancel()">{{\'Utils.cancel\' | i18n }}</button> <button type="button" mw-modal-on-enter class="btn btn-primary" data-dismiss="modal" ng-click="ok()">{{\'Utils.ok\' | i18n }}</button></div></div>'),a.put("uikit/mw-modal/directives/templates/mw_modal_footer.html",'<div class="modal-footer" ng-transclude></div>'),a.put("uikit/mw-toast/directives/templates/mw_toasts.html",'<div class="message messages-list mw-toasts"><div class="content"><ul><li ng-repeat="toast in toasts" class="message-item"><div class="status-indicator {{toast.type}}"><span mw-icon="{{toast.icon}}"></span></div><div class="message"><div class="holder margin-top-5"><h5 ng-if="toast.title">{{toast.title}}</h5><span ng-if="!toast.isHtmlMessage">{{toast.message | limitTo:500}}</span> <span ng-if="toast.isHtmlMessage" ng-bind-html="toast.message"></span> <a class="action-button btn btn-link btn-xs" ng-if="toast.button && toast.button.isLink && toast.button.action && !toast.button.link" href="#"><span ng-click="hideToast(toast); toast.button.action()" mw-prevent-default="click">{{toast.button.title}}</span></a> <a class="action-button btn btn-link btn-xs" ng-if="toast.button && toast.button.isLink && toast.button.link" ng-href="{{toast.button.link}}" target="{{toast.button.target}}"><span>{{toast.button.title}}</span></a><div ng-if="toast.button && !toast.button.isLink && toast.button.action"><div class="action-button btn btn-default btn-xs margin-top-5"><div ng-click="hideToast(toast); toast.button.action()">{{toast.button.title}}</div></div></div></div><div class="closer" ng-click="hideToast(toast.id)"><span mw-icon="mwUI.cross"></span></div></div></li></ul></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_alert.html",'<div class="mw-alert alert alert-{{ type || \'default\' }}"><div ng-transclude class="alert-content"></div><div ng-if="closeable" ng-click="closeAlert()" mw-icon="mwUI.cross"></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_arrow_link.html",'<a ng-href="{{ link }}" class="btn btn-default btn-sm mw-arrow-link" mw-stop-propagation="click"><span mw-icon="mwUI.angleRight"></span></a>'),a.put("uikit/mw-ui-components/directives/templates/mw_badge.html",'<span class="mw-badge label label-{{mwBadge}}" ng-transclude></span>'),a.put("uikit/mw-ui-components/directives/templates/mw_bread_crumb.html",'<div class="mw-bread-crumb"><a ng-href="{{url}}" class="bread-crumb">{{title}}</a> <span mw-icon="mwUI.caretRight" class="arrow"></span></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_bread_crumbs_holder.html",'<div class="mw-bread-crumbs-holder" ng-transclude></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_collapsible.html",'<div class="mw-collapsible"><div class="mw-collapsible-heading" ng-click="toggle()"><i class="fa fa-angle-right" ng-class="{\'fa-rotate-90\': viewModel.collapsed}"></i> <span class="mw-collapsible-heading-text">{{title}}</span></div><div class="mw-collapsible-body mw-collapsible-animate margin-top-5" ng-class="{\'collapsed\': viewModel.collapsed}" ng-transclude></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_icon.html",'<span class="mw-icon"><i ng-if="viewModel.oldIcon" ng-class="viewModel.oldIcon" style="{{style}}" mw-tooltip="{{tooltip}}" placement="{{placement}}"></i> <i ng-if="viewModel.icon" ng-class="viewModel.iconSet.get(\'classPrefix\') +\' \'+ viewModel.icon" style="{{style}}" mw-tooltip="{{tooltip}}" placement="{{placement}}"></i></span>'),a.put("uikit/mw-ui-components/directives/templates/mw_indefinite_loading.html",'<div class="mw-infinite-loading"><div class="col-md-12 text-center"><div mw-spinner></div><div class="lead">{{\'UiComponents.mwIndefiniteLoading.loading\' | i18n | uppercase}}</div></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_option_group.html",'<div class="mw-option-group panel panel-default"><fieldset ng-disabled="mwDisabled"><div class="panel-body"><span ng-transclude></span><label class="options-container display-inline clickable" ng-class="{\'with-icon\':icon}" for="{{randomId}}"><div class="clearfix"><div ng-if="icon" class="col-md-1 icon-holder"><span mw-icon="{{icon}}"></span></div><div class="description" ng-class="{\'col-md-11\': icon, \'col-md-12\': !icon}"><h4>{{title}}</h4><p>{{description}}</p></div></div></label></div></fieldset></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_panel.html",'<div class="mw-panel panel panel-{{type || \'default\'}}"><div class="panel-heading" ng-if="title"><h3 class="panel-title">{{title}}</h3><span ng-if="closeable" ng-click="closePanel()" mw-icon="mwUI.cross"></span></div><div class="panel-body" ng-transclude></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_spinner.html",'<div class="mw-spinner"></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_star_rating.html",'<span class="mw-star-rating"><i ng-repeat="star in stars" ng-class="star.state" class="fa"></i></span>'),a.put("uikit/mw-ui-components/directives/templates/mw_tab_bar.html",'<div class="clearfix mw-tab-bar" ng-class="{justified: justified}"><ul class="nav nav-tabs" ng-class="{ \'nav-justified\': justified }"><li ng-repeat="pane in panes" ng-class="{ active: pane.selected }"><a ng-class="{ \'has-error\': pane.isInvalid }" ng-click="select(pane)">{{ pane.title }}</a></li></ul><div class="tab-content" ng-transclude></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_tab_pane.html",'<div class="tab-pane mw-tab-pane" role="tabpanel" ng-class="{active: selected}" ng-transclude></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_text_collapsible.html",'<div class="mw-text-collapsible"><span class="line-break content">{{ text() }}</span> <a ng-if="showButton" ng-click="toggleLength()" class="toggle-btn">{{ showLessOrMore() | i18n }}</a></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_timeline.html",'<div class="mw-timeline timeline clearfix"><hr class="vertical-line"><div class="content" ng-transclude></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_timeline_entry.html",'<li class="timeline-entry"><span class="bubble"></span><div ng-transclude></div></li>'),a.put("uikit/mw-ui-components/directives/templates/mw_timeline_fieldset.html",'<fieldset class="mw-timeline-fieldset" ng-class="{\'entries-are-hidden\':!entriesVisible, \'collapsable\': collapsable}"><div ng-if="mwTitle" ng-click="toggleEntries()" class="legend">{{mwTitle}} <span ng-if="collapsable && entriesVisible" class="toggler"><i mw-icon="mwUI.chevronDownCircle"></i></span> <span ng-if="collapsable && !entriesVisible" class="toggler"><i mw-icon="mwUI.chevronUpCircle"></i></span></div><div ng-show="!entriesVisible" class="hidden-entries" ng-click="toggleEntries()">{{ hiddenEntriesText() | i18n:{count:entries.length} }}</div><ul class="clearfix timeline-entry-list" ng-transclude ng-show="entriesVisible"></ul></fieldset>'),a.put("uikit/mw-ui-components/directives/templates/mw_view_change_loader.html",'<div class="mw-view-change-loader" ng-if="viewModel.loading"><div mw-spinner></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_wizard.html",'<div class="mw-wizard" ng-transclude></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_wizard_navigation.html",'<div class="mw-wizard-navigation"><button class="btn btn-default" ng-disabled="!wizard.hasPreviousStep()" ng-click="wizard.back()">Previous</button> <button class="btn btn-primary" ng-if="wizard.hasNextStep() || (!wizard.hasNextStep() && !finishedAction)" ng-disabled="!wizard.hasNextStep()" ng-click="wizard.next()">Next</button> <button class="btn btn-primary" ng-if="!wizard.hasNextStep() && finishedAction" ng-click="finish()">OK</button><div class="extra-content" ng-transclude></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_wizard_progress.html",'<div class="mw-wizard-progress"><div class="bar"><div class="current-progress" ng-style="{width:getProgress()+\'%\'}"></div></div></div>'),a.put("uikit/mw-ui-components/directives/templates/mw_wizard_step.html",'<div class="mw-wizard-step" ng-class="{active:_isActive}" ng-show="_isActive"><div ng-if="_isActive" class="mw-wizard-step-inner" ng-transclude></div></div>'),a.put("uikit/mw-utils/modals/templates/mw_leave_confirmation_modal.html",'<div mw-modal title="{{\'Utils.mwLeaveConfirmationModal.title\' | i18n}}"><div mw-modal-body><p>{{ text }}</p></div><div mw-modal-footer><button type="button" class="btn btn-default" ng-click="stay()">{{\'Utils.mwLeaveConfirmationModal.stay\' | i18n }}</button> <button type="button" class="btn btn-primary" ng-click="continue()">{{\'Utils.mwLeaveConfirmationModal.continue\' | i18n }}</button></div></div>'),a.put("uikit/templates/mwSidebarBb/mwSidebarInput.html",'<div class="row"><div class="col-md-12 form-group" ng-class="{\'has-error\': !isValid()}" style="margin-bottom: 0"><input type="{{_type}}" ng-if="!customUrlParameter" class="form-control" ng-model="viewModel.val" ng-change="changed()" ng-disabled="mwDisabled" placeholder="{{placeholder}}" ng-model-options="{ debounce: 500 }"><input type="{{_type}}" ng-if="customUrlParameter" class="form-control" ng-model="viewModel.val" ng-change="changed()" ng-disabled="mwDisabled" placeholder="{{placeholder}}" ng-model-options="{ debounce: 500 }"></div></div>'),a.put("uikit/mw-exception-handler/i18n/de_DE.json",'{ "ExceptionHandler": { "mwExceptionModal": { "title": "Es ist etwas schiefgelaufen", "unknownError": "Leider ist ein unvorhergesehener Fehler aufgetreten. Sie können uns einen Fehlerbericht senden, sodass wir diesen schnellst möglich beseitigen können. Vielen Dank.", "userMessage": "Sie können uns zusätzlich ihre letzten Schritte beschreiben, sodass wir den Fehler schneller nachstellen können.", "userMessagePlaceholder": "(Optional)", "report": "Fehler melden", "thanks": "Vielen Dank für Ihre Rückmeldung. Wir werden uns umgehend um diesen Fehler kümmern." } } }'),a.put("uikit/mw-exception-handler/i18n/en_US.json",'{ "ExceptionHandler": { "mwExceptionModal": { "title": "Something went wrong", "unknownError": "Unfortunatly something went wrong. You can report this error so we can fix it. Thank you.", "userMessage": "You can leave some additional information to make it easier for us to reproduce the error", "userMessagePlaceholder": "(Optional)", "report": "Report error", "thanks": "Thanks for your feedback. We will have a look at this error as soon as possible." } } }'),a.put("uikit/mw-form/i18n/de_DE.json",'{ "mwErrorMessages": { "required": "ist ein Pflichtfeld", "hasToBeValidEmail": "muss eine valide E-Mail Adresse sein", "hasToMatchPattern": "muss dem Muster entsprechen", "hasToBeValidUrl": "muss eine valide URL sein", "hasToBeValidPhoneNumber": "muss eine gültige Telefonnummer sein", "hasToBeMin": "muss mindestens {{min}} sein", "hasToBeMinLength": "muss mindestens {{ngMinlength}} Zeichen haben", "hasToBeSmaller": "darf maximal {{max}} sein", "hasToBeSmallerLength": "darf maximal {{ngMaxlength}} Zeichen haben" } }'),a.put("uikit/mw-form/i18n/en_US.json",'{ "mwErrorMessages": { "required": "is required", "hasToBeValidEmail": "has to be a valid e-mail", "hasToMatchPattern": "has to match the pattern", "hasToBeValidUrl": "has to be a valid URL", "hasToBeValidPhoneNumber": "has to be a valid phone number", "hasToBeMin": "has to be at least {{min}}", "hasToBeMinLength": "has to have a least {{ngMinlength}} chars", "hasToBeSmaller": "must not be greater than {{max}}", "hasToBeSmallerLength": "must not have more chars than {{ngMaxlength}}" } }'),a.put("uikit/mw-inputs/i18n/de_DE.json",'{ "mwSelectBox": { "pleaseSelect": "Option auswählen" } }'),a.put("uikit/mw-inputs/i18n/en_US.json",'{ "mwSelectBox": { "pleaseSelect": "Select an option" } }'),a.put("uikit/mw-list/i18n/de_DE.json",'{ "List": { "mwListHead": { "items": "Einträge", "selectAll": "Alle selektieren", "clearSelection": "Selektion aufheben", "itemSelected": "{{name}} ist selektiert", "itemsSelected": "{{count}} {{name}} sind selektiert", "itemAmount": "{{count}} {{name}}", "searchFor": "{{name}} suchen", "notAvailable": "N/V", "notAvailableTooltip": "Der Eintrag ist nicht verfügbar. Eventuell wurde dieser gelöscht." }, "mwListFooter": { "noneFound": "Es wurden keine Einträge gefunden" } } }'),a.put("uikit/mw-list/i18n/en_US.json",'{ "List": { "mwListHead": { "items": "Items", "selectAll": "Select all", "clearSelection": "Clear selection", "itemSelected": "{{name}} is selected", "itemsSelected": "{{count}} {{name}} are selected", "itemAmount": "{{count}} {{name}}", "searchFor": "Search for {{name}}", "notAvailable": "N/V", "notAvailableTooltip": "The entry is not available anymore. Maybe is has been deleted." }, "mwListFooter": { "noneFound": "No entries have been found." } } }'),a.put("uikit/mw-modal/i18n/de_DE.json",'{ "Modal": { "mwModalConfirm": { "areYouSure": "Sind Sie sich sicher?" } } }'),a.put("uikit/mw-modal/i18n/en_US.json",'{ "Modal": { "mwModalConfirm": { "areYouSure": "Are you sure?" } } }'),a.put("uikit/mw-ui-components/i18n/de_DE.json",'{ "UiComponents": { "mwToggle": { "on": "An", "off": "Aus" }, "mwTimelineFieldset": { "entriesHiddenSingular": "1 Eintrag ist ausgeblendet", "entriesHiddenPlural": "{{count}} Einträge sind ausgeblendet" }, "mwTextCollapsible": { "showMore": "mehr anzeigen", "showLess": "weniger anzeigen" }, "mwButtonHelp": { "isDisabledBecause": "Dieser Button ist deaktiviert weil:" }, "mwIndefiniteLoading": { "loading": "Lade Daten..." } } }'),a.put("uikit/mw-ui-components/i18n/en_US.json",'{ "UiComponents": { "mwToggle": { "on": "On", "off": "Off" }, "mwTimelineFieldset": { "entriesHiddenSingular": "One entry is hidden", "entriesHiddenPlural": "{{count}} entries are hidden" }, "mwTextCollapsable": { "showMore": "show more", "showLess": "show less" }, "mwButtonHelp": { "isDisabledBecause": "This button is currently disabled because:" }, "mwIndefiniteLoading": { "loading": "Loading data..." } } }'),a.put("uikit/mw-utils/i18n/de_DE.json",'{ "Utils": { "ok": "Ok", "cancel": "Abbrechen", "mwLeaveConfirmationModal": { "title": "Möchten Sie wirklich die aktuelle Seite verlassen?", "continue": "Fortfahren", "stay": "Auf Seite bleiben" } } }'),a.put("uikit/mw-utils/i18n/en_US.json",'{ "Utils": { "ok": "Ok", "cancel": "Cancel" }, "mwLeaveConfirmationModal": { "title": "Do you really want to leave the current page?", "continue": "Continue", "stay": "Stay on this page" } }'),a.put("uikit/mw_ui_icons.json",'{ "angleLeft": "fa-angle-left", "angleRight": "fa-angle-right", "angleUp": "fa-angle-up", "angleDown": "fa-angle-down", "caretRight": "fa-caret-right", "sort": "fa-sort", "sortAsc": "fa-sort-asc", "sortDesc": "fa-sort-desc", "warning": "fa-warning", "cross": "fa-times", "chevronUpCircle": "fa-chevron-circle-up", "chevronDownCircle": "fa-chevron-circle-down", "question": "fa-question", "questionCircle": "fa-question-circle-o" }')}]),b.module("mwUI.Utils",["mwUI.i18n","mwUI.Modal"]),window.mwUI.Utils={},window.mwUI.Utils.shims={},b.module("mwUI.Utils").directive("mwDraggable",["$timeout",function(a){return{restrict:"A",scope:{mwDragData:"=",mwDragstart:"&",mwDragend:"&",mwDropEffect:"@"},link:function(b,c){c.attr("draggable",!0),c.addClass("draggable",!0),b.mwDragstart&&c.on("dragstart",function(c){c.originalEvent.dataTransfer.setData("text",JSON.stringify(b.mwDragData)),c.originalEvent.dataTransfer.effectAllowed=b.mwDropEffect,a(function(){b.mwDragstart({event:c,dragData:b.mwDragData})})}),c.on("dragend",function(c){b.mwDragend&&a(function(){b.mwDragend({event:c})})})}}}]),b.module("mwUI.Utils").directive("mwDroppable",["$timeout",function(a){return{restrict:"A",scope:{mwDropData:"=",mwDragenter:"&",mwDragleave:"&",mwDragover:"&",mwDrop:"&",disableDrop:"="},link:function(b,c){c.addClass("droppable");var d=function(a){var b=a.originalEvent.dataTransfer.getData("text");return b?JSON.parse(b):void 0};b.mwDragenter&&c.on("dragenter",function(d){b.disableDrop!==!0&&c.addClass("drag-over"),a(function(){b.mwDragenter({event:d})})}),b.mwDragleave&&c.on("dragleave",function(d){c.removeClass("drag-over"),a(function(){b.mwDragleave({event:d})})}),b.mwDrop&&c.on("drop",function(e){c.removeClass("drag-over"),e.stopPropagation&&e.stopPropagation();var f=d(e);return a(function(){b.mwDrop({event:e,dragData:f,dropData:b.mwDropData})}),!1});var e=function(a){return b.disableDrop!==!0?(a.preventDefault&&a.preventDefault(),!1):void 0};c.on("dragover",e),b.mwDragover&&c.on("dragover",function(c){a(function(){b.mwDragover({event:c})})}),b.$on("$destroy",function(){c.off()})}}}]),b.module("mwUI.Utils").directive("mwInfiniteScroll",["$window",function(a){return{restrict:"A",link:function(c,d,e){var f,g,h,i,j=!1,k=0;if(e.mwListCollection?f=c.$eval(e.mwListCollection).getCollection():e.collection?f=c.$eval(e.collection):console.warn("No collection was found for the infinite scroll pleas pass it as scope attribute"),f&&(!f||f.filterable)){var l=function(){return!j&&f.filterable.hasNextPage()?(j=!0,k++,f.filterable.loadNextPage().then(function(){j=!1})):void 0},m=function(){var a=4,b=9;return Math.min(a+k,b)/10},n=function(){var a=i[0].clientHeight||i.height(),b=a-h.height(),c=m();h.scrollTop()/b>c&&l()};if(e.scrollContainerSelector||e.scrollContentSelector){if(e.scrollContainerSelector&&d.parents(e.scrollContainerSelector).length>0)h=d.parents(e.scrollContainerSelector).first();else{if(e.scrollContainerSelector&&0===d.parents(e.scrollContainerSelector).length)throw new Error("No parent of the infinite scroll element with the selector "+e.scrollContainerSelector+" could be found!");h=d}if(e.scrollContentSelector&&d.find(e.scrollContentSelector).length>0)i=d.find(e.scrollContentSelector).first();else{if(e.scrollContentSelector&&0===d.find(e.scrollContentSelector).length)throw new Error("No child of the infinite scroll element with the selector "+e.scrollContentSelector+" could be found!");i=d}}else d.parents(".modal").length?(h=d.parents("*[mw-modal-body]"),i=d.parents(".modal-body")):(h=b.element(a),i=b.element(document));if(h===i)throw new Error("The scrollContainerElement can not be the same as the actual scrollContentElement");g=_.throttle(n,500),h.on("scroll",g),c.$on("$destroy",function(){h.off("scroll",g)})}}}}]),b.module("mwUI.Utils").directive("mwLeaveConfirmation",["$window","$rootScope","LeaveConfirmationModal",function(a,c,d){return{scope:{alertBeforeLeave:"=mwLeaveConfirmation",text:"@"},link:function(e){var f=new d,g=function(a){f.setScopeAttributes({nextUrl:a,text:e.text,leaveCallback:function(){e.changeLocationOff();
},stayCallback:function(){}}),f.show()};if(e.changeLocationOff=c.$on("$locationChangeStart",function(a,b){e.alertBeforeLeave&&(a.preventDefault(),g(b))}),a.onbeforeunload=function(){return e.alertBeforeLeave?e.text:void 0},!b.isDefined(e.text))throw new Error("Please specify a text in the text attribute");e.$on("$destroy",e.changeLocationOff)}}}]),b.module("mwUI.Utils").directive("mwPreventDefault",function(){return{restrict:"A",link:function(a,b,c){if(!c.mwPreventDefault)throw new Error('Directive mwPreventDefault: This directive must have an event name as attribute e.g. mw-prevent-default="click"');b.on(c.mwPreventDefault,function(a){a.preventDefault()})}}}),b.module("mwUI.Utils").directive("mwStopPropagation",function(){return{restrict:"A",link:function(a,b,c){if(!c.mwStopPropagation)throw new Error('Directive mwStopPropagation: This directive must have an event name as attribute e.g. mw-stop-propagation="keyup"');b.on(c.mwStopPropagation,function(a){a.stopPropagation()})}}}),b.module("mwUI.Utils").filter("reduceStringTo",function(){return function(a,b){return b&&a&&a.length>b?a.substr(0,b)+"...":a}}),b.module("mwUI.Utils").factory("LeaveConfirmationModal",["Modal",function(a){return a.prepare({templateUrl:"uikit/mw-utils/modals/templates/mw_leave_confirmation_modal.html",controller:"LeaveConfirmationModalController"})}]).controller("LeaveConfirmationModalController",["$scope",function(a){a.stay=function(){a.stayCallback(),a.hideModal()},a["continue"]=function(){if(!a.nextUrl)throw new Error("NextUrl has to be set!");a.leaveCallback(),a.hideModal().then(function(){document.location.href=a.nextUrl})}}]),b.module("mwUI.Utils").service("callbackHandler",["$injector",function(a){return{execFn:function(a,c,d){return c&&b.isArray(c)?a.apply(d,c):a.call(d,c)},getFn:function(c){if(b.isString(c))return a.get(c);if(b.isFunction(c))return c;throw new Error("First argument has to be either a valid service or function")},exec:function(a,b,c){return this.execFn(this.getFn(a),b,c)}}}]),window.mwUI.Utils.shims.concatUrlParts=function(){var a="";return _.forEach(arguments,function(b){b=b.replace(/^\//,""),b=b.replace(/\/$/,""),a+=b+"/"}),a},window.mwUI.Utils.shims.domObserver=function(a,c,d){var e=new MutationObserver(function(a){c.call(this,a)}),f=a instanceof b.element?a[0]:a;return d=d||{attributes:!0,childList:!0,characterData:!0},e.observe(f,d),e},window.mwUI.Utils.shims.routeToRegExp=function(a){var b=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,d=/\*\w?/g,e=/[\-{}\[\]+?.,\\\^$|#\s]/g;if(!_.isString(a))throw new Error("The route "+JSON.stringify(a)+"has to be a URL");return a=a.replace(e,"\\$&").replace(b,"(?:$1)?").replace(c,function(a,b){return b?a:"([^/?]+)"}).replace(d,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},b.module("mwUI.Utils").config(["i18nProvider",function(a){a.addResource("uikit/mw-utils/i18n")}]),window.mwUI.Backbone={baseUrl:"",Selectable:{},use$http:!0},b.module("mwUI.Backbone",[]),mwUI.Backbone.NestedModel=Backbone.NestedModel=Backbone.Model.extend({nested:function(){return{}},_prepare:function(){var a=this.nested(),b={};for(var c in a){if("function"!=typeof a[c])throw new Error("Nested attribute "+c+" is not a valid constructor. Do not set an instance as nested attribute.");var d=new a[c];d.parent=this,b[c]=d}return b},_setNestedModel:function(a,b){if(_.isObject(b))this.get(a).set(b);else{var c=this.get(a).idAttribute;this.get(a).set(c,b)}},_setNestedCollection:function(a,b){if(_.isObject(b)&&!_.isArray(b))this.get(a).add(b);else if(_.isArray(b))b.forEach(function(b){this._setNestedCollection(a,b)}.bind(this));else{var c=this.get(a).model.prototype.idAttribute,d={};d[c]=b,this.get(a).add(d)}},_setNestedAttributes:function(a){for(var b in a){var c=this.nested(),d=a[b],e=c[b];!e||d instanceof e||!this.get(b)||(this.get(b)instanceof Backbone.Model?this._setNestedModel(b,d):this.get(b)instanceof Backbone.Collection&&this._setNestedCollection(b,d),delete a[b])}return a},_nestedModelToJson:function(a){var b;return b=a instanceof Backbone.NestedModel?a._prepareDataForServer():a.toJSON()},_prepareDataForServer:function(){var a=_.extend({},this.attributes),b=this.nested();for(var c in b){var d=this.get(c);if(d instanceof Backbone.Model)a[c]=this._nestedModelToJson(d);else if(d instanceof Backbone.Collection){var e=[];d.each(function(a){e.push(this._nestedModelToJson(a))}.bind(this)),a[c]=e}}return this.compose(a)},constructor:function(a,b){return b=b||{},b.parse&&(a=this.parse(a),b.parse=!1),this.attributes=this._prepare(),this.set(a),a=this.attributes,Backbone.Model.prototype.constructor.call(this,a,b)},set:function(a,b){var c={};return _.isString(a)?c[a]=b:_.isObject(a)&&(c=a),_.isObject(b)||(b=null),c=this._setNestedAttributes(c),Backbone.Model.prototype.set.call(this,c,b)},compose:function(a){return a},toJSON:function(a){return a?this._prepareDataForServer():Backbone.Model.prototype.toJSON.apply(this,arguments)},clear:function(a){var b={};for(var c in this.attributes)this.get(c)instanceof Backbone.Model?this.get(c).clear():this.get(c)instanceof Backbone.Collection?this.get(c).reset():b[c]=void 0;return this.set(b,_.extend({},a,{unset:!0}))}}),mwUI.Backbone.Selectable.Model=function(a,b){var c=a,d=b.selected||!1;this.isInCollection=!1,this.hasDisabledFn="function"==typeof b.isDisabled||!1,this.isDisabled=function(){return this.hasDisabledFn?b.isDisabled.apply(a,arguments):!1},this.isSelected=function(){return d},this.select=function(b){b=b||{},this.isDisabled()&&!b.force||this.isSelected()||(d=!0,b.silent||this.trigger("change change:select",a,this))},this.unSelect=function(b){b=b||{},this.isSelected()&&(d=!1,b.silent||this.trigger("change change:unselect",a,this))},this.toggleSelect=function(){this.isSelected()?this.unSelect():this.select()};var e=function(){if(!(c instanceof Backbone.Model))throw new Error("First parameter has to be the instance of a model")};e.call(this)},_.extend(mwUI.Backbone.Selectable.Model.prototype,Backbone.Events),mwUI.Backbone.SelectableModel=Backbone.SelectableModel=Backbone.Model.extend({selectable:!0,selectableOptions:function(){return{selected:!1,isDisabled:null}},selectableModelConstructor:function(a){this.selectable&&(this.selectable=new mwUI.Backbone.Selectable.Model(this,this.selectableOptions.call(this,a))),this.on("destroy",function(){this.collection&&this.collection.filterable&&this.collection.filterable.getTotalAmount()>0&&this.collection.filterable.setTotalAmount(this.collection.filterable.getTotalAmount()-1)})},constructor:function(a,b){var c=Backbone.Model.prototype.constructor.call(this,a,b);return this.selectableModelConstructor(b),c}}),mwUI.Backbone.Model=mwUI.Backbone.NestedModel.extend({selectable:!0,basePath:"",endpoint:null,selectableOptions:mwUI.Backbone.SelectableModel.prototype.selectableOptions,urlRoot:function(){var a=_.result(this,"basePath"),b=_.result(this,"endpoint");if(b)return window.mwUI.Utils.shims.concatUrlParts(mwUI.Backbone.baseUrl,a,b);throw new Error("An endpoint has to be specified")},constructor:function(){var a=mwUI.Backbone.NestedModel.prototype.constructor.apply(this,arguments);return mwUI.Backbone.SelectableModel.prototype.selectableModelConstructor.apply(this,arguments),a},getEndpoint:function(){return this.urlRoot()},setEndpoint:function(a){this.endpoint=a},sync:function(a,b,c){return c.instance=this,mwUI.Backbone.NestedModel.prototype.sync.call(this,a,b,c)},request:function(a,b,c){c=c||{};var d={url:a,type:b,instance:this};return Backbone.ajax(_.extend(d,c))}}),mwUI.Backbone.Filter=function(){var a=function(a,b){return _.isUndefined(a)||null===a||""===a||0===a.length||_.isArray(a)&&0===_.compact(a).length?null:b};return{containsString:function(b,c){return a(c,{type:"containsString",fieldName:b,contains:c})},string:function(b,c){return a(c,{type:"string",fieldName:b,value:c})},and:function(a){return this.logOp(a,"AND")},nand:function(a){return this.logOp(a,"NAND")},or:function(a){return this.logOp(a,"OR")},logOp:function(a,b){return a=_.without(a,null),0===a.length?null:{type:"logOp",operation:b,filters:a}},"boolean":function(b,c){return a(c,{type:"boolean",fieldName:b,value:c})},stringMap:function(b,c,d){return"%%"===d&&(d=""),a(d,{type:"stringMap",fieldName:b,value:d,key:c})},stringEnum:function(b,c){return a(c,{type:"stringEnum",fieldName:b,values:_.flatten(c)})},"long":function(b,c){return a(c,{type:"long",fieldName:b,value:c})},like:function(b,c){return a(c,{type:"like",fieldName:b,like:c})},notNull:function(b){return a(!0,{type:"null",fieldName:b})},dateRange:function(b,c,d){return a(d,a(c,{type:"dateRange",fieldName:b,min:c,max:d}))}}},mwUI.Backbone.Filterable=function(a,b){b=b||{};var c,d,e=a,f=b.limit,g=f?b.offset:!1,h=b.page||1,i=b.perPage||30,j=b.filterValues?JSON.parse(JSON.stringify(b.filterValues)):b.filterValues,k=_.clone(b.customUrlParams),l=b.filterDefinition,m=b.sortOrder;this.filterValues=b.filterValues||{},this.customUrlParams=b.customUrlParams||{},this.fields=b.fields,this.filterIsSet=!1,this.hasFilterChanged=function(a){return JSON.stringify(a)!==JSON.stringify(d)},this.getRequestParams=function(a){a.params=a.params||{};var b=this.getFilters();return b&&(a.params.filter=b),this.hasFilterChanged(b)&&(h=1),i&&h&&(f||_.isUndefined(f))&&(a.params.limit=i,a.params.offset=h>1?i*(h-1):0),m&&m.length>0&&(a.params.sortOrder=m),(f||g)&&(a.params.limit=f,a.params.offset=g),f===!1&&delete a.params.limit,this.fields&&this.fields.length>0&&(a.params.field=this.fields),this.customUrlParams&&_.extend(a.params,_.result(this,"customUrlParams")),a.params.getNonpagedCount=!0,d=b,a.params},this.setLimit=function(a){f=a,g=g||0},this.setTotalAmount=function(a){c=a},this.getTotalAmount=function(){return c},this.loadPreviousPage=function(){return h-=1,e.fetch({remove:!1})},this.hasPreviousPage=function(){return h>=1},this.loadNextPage=function(){return h+=1,e.fetch({remove:!1})},this.hasNextPage=function(){return c&&c>e.length},this.getPage=function(){return h},this.getTotalPages=function(){return Math.floor(c/i)},this.setSortOrder=function(a){h=1,m=a},this.getSortOrder=function(){return m},this.setFilters=function(a){_.forEach(a,function(a,b){if(!_.has(this.filterValues,b))throw new Error("Filter named '"+b+"' not found, did you add it to filterValues of the model?");this.filterValues[b]=a},this),this.filterIsSet=!0},this.getFilters=function(){return _.isFunction(l)?l.apply(this):void 0},this.resetFilters=function(){this.filterValues=j?JSON.parse(JSON.stringify(j)):j,this.customUrlParams=k,this.filterIsSet=!1},function(){if(!(e instanceof Backbone.Collection))throw new Error("First parameter has to be the instance of a collection")}()},mwUI.Backbone.FilterableCollection=Backbone.FilterableCollection=Backbone.Collection.extend({selectable:!0,filterableOptions:function(){return{limit:void 0,offset:!1,page:1,perPage:30,filterValues:{},customUrlParams:{},filterDefinition:function(){},fields:[],sortOrder:""}},filterableCollectionConstructor:function(a){this.filterable&&(this.filterable=new mwUI.Backbone.Filterable(this,this.filterableOptions.call(this,a)))},constructor:function(a,b){var c=Backbone.Model.prototype.constructor.call(this,a,b);return this.filterableCollectionConstructor(b),c},fetch:function(a){if(a=a||{},a.params=a.params||{},this.filterable){var b=this.filterable.getRequestParams(a);_.extend(a.params,b)}return Backbone.Collection.prototype.fetch.call(this,a)}}),mwUI.Backbone.Selectable.Collection=function(a,b){var c=a,d=b||{},e=!0,f=d.isSingleSelection||!1,g=d.addPreSelectedToCollection||!1,h=d.unSelectOnRemove,i=b.preSelected,j=new Backbone.Collection,k=function(){if(i instanceof Backbone.Model)f=!0,this.preSelectModel(i);else{if(!(i instanceof Backbone.Collection))throw new Error("The option preSelected has to be either a Backbone Model or Collection");f=!1,this.preSelectCollection(i)}},l=function(a){this.listenTo(a.selectable,"change:select",function(){j.get(a)||this.select(a)}.bind(this))},m=function(a){this.listenTo(a.selectable,"change:unselect",function(){j.get(a)&&this.unSelect(a)}.bind(this))},n=function(a,b){if(a&&a.selectable){var d=j.get(a);d?(c.get(a)?(a.selectable.isInCollection=!0,d.selectable.isInCollection=!0):(a.selectable.isInCollection=!1,d.selectable.isInCollection=!1),a.selectable.select(b),d.selectable.select(b)):a.selectable.unSelect(b),l.call(this,a),m.call(this,a)}},o=function(a,b){i&&(this.isSingleSelection()?i=b:(i.remove(a,{silent:!0}),i.add(b,{silent:!0})))},p=function(a){var b=this.getSelected().get(a);b&&(j.remove(b,{silent:!0}),j.add(a,{silent:!0}),o.call(this,b,a),n.call(this,a,{silent:!0}))};this.getSelected=function(){return j},this.getDisabled=function(){var a=new Backbone.Collection;return e&&c.each(function(b){b.selectable&&b.selectable.isDisabled()&&a.add(b)}),a},this.select=function(a,b){if(b=b||{},!(a instanceof Backbone.Model))throw new Error("The first argument has to be a Backbone Model");a instanceof c.model||(a=new c.model(a.toJSON())),!a.selectable||a.selectable.isDisabled()&&!b.force||(f&&this.unSelectAll(),a.on("change",function(a,b){b=b||{},(b.unset||!a.id||a.id.length<1)&&this.unSelect(a)},this),j.add(a),n.call(this,a,b),this.trigger("change change:add",a,this))},this.selectAll=function(){c.each(function(a){this.select(a)},this)},this.unSelect=function(a,b){b=b||{},j.remove(a),n.call(this,a,b),this.trigger("change change:remove",a,this)},this.unSelectAll=function(){var a=this.getSelected().clone();a.each(function(a){this.unSelect(a)},this)},this.toggleSelectAll=function(){this.allSelected()?this.unSelectAll():this.selectAll()},this.allSelected=function(){var a=this.getDisabled().length;return this.getSelected().length===c.length-a},this.allDisabled=function(){return this.getDisabled().length===c.length},this.isSingleSelection=function(){return f},this.reset=function(){this.unSelectAll(),k.call(this)},this.preSelectModel=function(a){a.id&&(!c.get(a)&&g&&c.add(a),this.select(a,{force:!0,silent:!0}))},this.preSelectCollection=function(a){a.each(function(a){this.preSelectModel(a)},this),a.on("add",function(a){this.preSelectModel(a)},this),a.on("remove",function(a){this.unSelect(a)},this)};var q=function(){if(!(c instanceof Backbone.Collection))throw new Error("The first parameter has to be from type Backbone.Collection");c.on("add",function(a){e=a.selectable.hasDisabledFn,n.call(this,a),p.call(this,a)},this),c.on("remove",function(a){h?this.unSelect(a):n.call(this,a)},this),c.on("reset",function(){h?this.unSelectAll():this.getSelected().each(function(a){n.call(this,a)},this)},this),i&&k.call(this)};q.call(this)},_.extend(mwUI.Backbone.Selectable.Collection.prototype,Backbone.Events),mwUI.Backbone.SelectableCollection=Backbone.SelectableCollection=Backbone.Collection.extend({selectable:!0,selectableOptions:function(){return{isSingleSelection:!1,addPreSelectedToCollection:!1,unSelectOnRemove:!1,preSelected:new Backbone.Collection}},selectableCollectionConstructor:function(a){this.selectable&&(this.selectable=new mwUI.Backbone.Selectable.Collection(this,this.selectableOptions.call(this,a)))},constructor:function(a,b){var c=Backbone.Collection.prototype.constructor.call(this,a,b);return this.selectableCollectionConstructor(b),c}}),mwUI.Backbone.Collection=Backbone.Collection.extend({selectable:!0,filterable:!0,basePath:"",endpoint:null,selectableOptions:mwUI.Backbone.SelectableCollection.prototype.selectableOptions,filterableOptions:mwUI.Backbone.FilterableCollection.prototype.filterableOptions,model:mwUI.Backbone.Model,url:function(){var a=_.result(this,"basePath"),b=_.result(this,"endpoint");if(b)return mwUI.Utils.shims.concatUrlParts(mwUI.Backbone.baseUrl,a,b);throw new Error("An endpoint has to be specified")},getEndpoint:function(){return this.url()},setEndpoint:function(a){this.endpoint=a},replace:function(a){this.reset(a),this.trigger("replace",this)},constructor:function(){var a=Backbone.Collection.prototype.constructor.apply(this,arguments);return mwUI.Backbone.SelectableCollection.prototype.selectableCollectionConstructor.apply(this,arguments),mwUI.Backbone.FilterableCollection.prototype.filterableCollectionConstructor.apply(this,arguments),a},fetch:function(){return mwUI.Backbone.FilterableCollection.prototype.fetch.apply(this,arguments)}}),b.module("mwUI.Backbone").directive("mwCollection",function(){return{require:"?ngModel",link:function(a,b,c,d){var e,f=function(){e.length>0?(d.$setViewValue(e),d.$render()):(d.$setViewValue(null),d.$render())},g=function(){e=a.$eval(c.mwCollection),e&&(f(),e.on("add remove reset",f))};if(d)if(a.mwModel)g();else var h=a.$watch("mwCollection",function(){h(),g()})}}}),b.module("mwUI.Backbone").directive("mwModel",function(){return{require:"?ngModel",link:function(a,c,d,e){var f,g,h=function(){var a=f.get(g);e.$formatters.forEach(function(b){a=b(a)}),e.$setViewValue(a),e.$render()},i=function(){var a={};a[g]=e.$modelValue,f.set(a,{fromNgModel:!0})},j=function(){var a=d.mwModelAttr,c=d.ngModel;return a&&a.length>0?a:b.isUndefined(a)&&c?c.split(".").pop():void 0},k=function(){if(f=a.$eval(d.mwModel),g=j(),e&&f&&g){if(f.on("change:"+g,function(a,b,c){c.fromNgModel||h()}),e.$viewChangeListeners.push(i),e.$parsers.push(function(a){return i(),a}),f.get(g)&&e.$modelValue&&f.get(g)!==e.$modelValue)throw new Error("The ng-model and the backbone model can not have different values during initialization!");f.get(g)?h():e.$modelValue&&i()}};if(a.mwModel&&j())k();else var l=a.$watch("mwModel",function(){l(),k()}),m=a.$watch("mwModelAttr",function(){m(),k()})}}});var c,d,e=Backbone.ajax,f=Backbone.sync;b.module("mwUI.Backbone").run(["$http","$q",function(a,b){c=a,d=b}]),Backbone.ajax=function(a){return mwUI.Backbone.use$http&&c?(a.method=a.type,c.apply(b,arguments).then(function(b){return a.success&&"function"==typeof a.success&&a.success(b),b},function(b){return a.error&&"function"==typeof a.error&&a.error(b),d.reject(b)})):e.apply(this,arguments)},Backbone.sync=function(a,b,c){return f.call(Backbone,a,b,c).then(function(){return b})},b.module("mwUI.ExceptionHandler",["mwUI.Modal","mwUI.i18n","mwUI.UiComponents","mwUI.Utils"]),b.module("mwUI.ExceptionHandler").factory("ExceptionModal",["Modal",function(a){return a.prepare({templateUrl:"uikit/mw-exception-handler/modals/templates/mw_exception_modal.html",controller:"ExceptionModalController"})}]).controller("ExceptionModalController",["$scope","$q","Wizard",function(a,b,c){a.exception=null,a.wizard=c.createWizard("exception"),a.report=function(){b.when(a.successCallback()).then(function(){a.wizard.next()})},a.cancel=function(){a.errorCallback?b.when(a.errorCallback()).then(function(){a.hideModal()}):a.hideModal()},a.close=function(){a.hideModal()}}]),b.module("mwUI.ExceptionHandler").provider("$exceptionHandler",function(){var a=[];return{registerHandler:function(b){a.push(b)},$get:["callbackHandler","$log",function(b,c){return function(d,e){d=d||"",e=e||"";try{a.forEach(function(a){b.exec(a,[d.toString(),e.toString()])})}catch(f){c.error(f)}c.error(d)}}]}}),b.module("mwUI.ExceptionHandler").provider("exceptionHandlerModal",function(){var a=!0,c={displayException:!1,userCanEnterMessage:!1,successCallback:null,errorCallback:null};return{disableExceptionModal:function(){a=!1},setModalOptions:function(a){_.extend(c,a)},$get:["callbackHandler","ExceptionModal",function(d,e){var f=new e,g=function(){var a=b.element.find("div[ng-view]");a&&b.element(a).hide()};return function(b,e){if(a){if(c.successCallback){var h=c.successCallback;c.successCallback=function(){return d.exec(h,[b.toString(),e.toString()])}}if(c.errorCallback){var i=c.errorCallback;c.errorCallback=function(){d.exec(i,[b.toString(),e.toString()])}}f.setScopeAttributes(_.extend({},c,{exception:b.toString(),cause:e})),g(),f.show()}}}]}}),b.module("mwUI.ExceptionHandler").config(["$exceptionHandlerProvider","i18nProvider",function(a,b){a.registerHandler("exceptionHandlerModal"),b.addResource("uikit/mw-exception-handler/i18n")}]),b.module("mwUI.Form",["mwUI.i18n","mwUI.Modal","mwUI.Utils"]),b.module("mwUI.Form").directive("mwErrorMessages",["mwValidationMessages",function(a){return{require:"^ngModelErrors",templateUrl:"uikit/mw-form/directives/templates/mw_error_messages.html",link:function(b,c,d,e){b.errors=e.getErrors,b.getMessageForError=function(b){return a.getMessageFor(b.get("error"),b.get("attrs"))}}}}]);var g=function(){return{restrict:"E",link:function(a,b){b.addClass("form-horizontal"),b.attr("novalidate","true")}}};b.module("mwUI.Form").directive("form",g),b.module("mwUI.Form").directive("mwFormLeaveConfirmation",["$window","$document","$location","i18n","Modal","$compile",function(a,b,c,d,e,f){return{require:"^form",link:function(a,b,c,d){var e=f('<div mw-leave-confirmation="form.$dirty" text="{{\'Form.mwFormLeaveConfirmation.isDirty\' | i18n}}"></div>')(a),g=!0;a.showConfirmation=function(){return d.$dirty&&g},b.append(e),a.$on("$destroy",function(){g=!1})}}}]),b.module("mwUI.Form").directive("mwCheckboxWrapper",function(){return{transclude:!0,scope:{label:"@",tooltip:"@"},templateUrl:"uikit/mw-form/directives/templates/mw_checkbox_wrapper.html"}}),b.module("mwUI.Form").directive("mwInputWrapper",function(){return{transclude:!0,scope:{label:"@",tooltip:"@",hideErrors:"="},templateUrl:"uikit/mw-form/directives/templates/mw_input_wrapper.html",controller:function(){var a={dirty:!0,valid:!0,touched:!1},c={required:!1,focused:!1},d="text",e=function(a,c){if(!b.isObject(c))throw new Error("State has to be an object");_.extend(a,c)};this.setModelState=function(b){e(a,b)},this.getModelState=function(){return a},this.setInputState=function(a){e(c,a)},this.getInputState=function(){return c},this.setType=function(a){d=a},this.getType=function(){return d}},link:function(a,b,c,d){a.isValid=function(){return d.getModelState().valid},a.isDirty=function(){return d.getModelState().dirty},a.isTouched=function(){return d.getModelState().touched},a.isRequired=function(){return d.getInputState().required},a.isFocused=function(){return d.getInputState().focused},a.hasError=function(){return!a.hideErrors&&!a.isValid()&&a.isDirty()},a.hasRequiredError=function(){return a.isRequired()&&!a.isValid()},a.getType=d.getType}}}),b.module("mwUI.Form").directive("ngModel",function(){return{require:["ngModel","?^ngModelErrors","?^mwInputWrapper"],link:function(a,c,d,e){var f=e[0],g=e[1],h=e[2],i=_.uniqueId("input_el"),j=function(a,b){var c=_.keys(a),e=_.keys(b),f=_.difference(e,c);g.addErrorsForInput(c,i,_.clone(d)),g.removeErrorsForInput(f,i,_.clone(d))},k=function(){h.setModelState({dirty:f.$dirty,valid:f.$valid,touched:f.$touched})},l=function(){a.$watch(function(){return f.$error},function(a,b){j(a,b)},!0)},m=function(){a.$watch(function(){return f.$error},k,!0),a.$watch(function(){return f.$touched},k),d.$observe("required",function(){h.setInputState({required:b.isDefined(c.attr("required"))})}),c.on("focus blur",function(a){h.setInputState({focused:"focus"===a.type})}),a.$on("$destroy",c.off.bind(c))};g&&l(),h&&m()}}}),b.module("mwUI.Form").directive("ngModelErrors",function(){return{scope:!0,controller:function(){var a=mwUI.Backbone.Model.extend({idAttribute:"error",nested:function(){return{inputIds:Backbone.Collection}}}),b=Backbone.Collection.extend({model:a}),c=new b,d=function(a,b,d){var e=c.get(a);if(e){var f=e.get("inputIds");_.extend(e.get("attrs"),d),f.add({id:b})}else c.add({error:a,inputIds:[b],attrs:d})},e=function(a,b){var d=c.get(a);if(d){var e=d.get("inputIds"),f=e.get(b);f&&(e.remove(f),0===e.length&&c.remove(d))}};this.addErrorsForInput=function(a,b,c){a.forEach(function(a){d(a,b,c)})},this.removeErrorsForInput=function(a,b){a.forEach(function(a){e(a,b)})},this.getErrors=function(){return c}}}}),b.module("mwUI.Form").provider("mwValidationMessages",function(){var a={},b={},c={},d=function(c,d){if("function"==typeof d)b[c]=d;else if("string"==typeof d)a[c]=d;else if(d)throw new Error("The validation has to be either a string or a function. String can be also a reference to i18n")};this.registerValidator=function(c,e){if(a[c]||b[c])throw new Error("The key "+c+" has already been registered");d(c,e)},this.$get=["$rootScope","i18n",function(e,f){var g=function(b,c){var d=a[b];return f.translationIsAvailable(d)?f.get(d,c):d},h=function(a,c){return b[a](f,c)};return{getRegisteredValidators:function(){return _.extend(a,c)},getMessageFor:function(c,d){return b[c]?h(c,d):a[c]?g(c,d):void 0},updateMessage:function(c,e){if(!a[c]&&!b[c])throw new Error("The key "+c+" is not available. You have to register it first via the provider");d(c,e)}}}]}),b.module("mwUI.Form").config(["i18nProvider","mwValidationMessagesProvider",function(a,b){a.addResource("uikit/mw-form/i18n"),b.registerValidator("required","mwErrorMessages.required"),b.registerValidator("email","mwErrorMessages.hasToBeValidEmail"),b.registerValidator("pattern","mwErrorMessages.hasToMatchPattern"),b.registerValidator("url","mwErrorMessages.hasToBeValidUrl"),b.registerValidator("phone","mwErrorMessages.hasToBeValidPhoneNumber"),b.registerValidator("min","mwErrorMessages.hasToBeMin"),b.registerValidator("minlength","mwErrorMessages.hasToBeMinLength"),b.registerValidator("max","mwErrorMessages.hasToBeSmaller"),b.registerValidator("maxlength","mwErrorMessages.hasToBeSmallerLength")}]),b.module("mwUI.i18n",[]),b.module("mwUI.i18n").provider("i18n",function(){var a=[],c=[],d={},e=!1,f=null,g=null,h=function(){return _.findWhere(c,{active:!0})},i=function(a){var b=h(),d=_.findWhere(c,{id:a});if(!d)throw new Error("You can not set a locale that has not been registered. Please register the locale first by calling addLocale()");b&&(b.active=!1),d.active=!0},j=function(a){var c=f||h();if(c&&d&&d[c.id]){var e=d[c.id];return b.forEach(a.split("."),function(a){e=e?e[a]:null}),e}return!1},k=function(a){var b;return _.each(c,function(c){!b&&a[c.id]&&(b=a[c.id])}),b||(b=_.values(a)[0]),b},l=function(a){for(var b,c=/{{\s*([a-zA-Z0-9$_]+)\s*}}/g,d=[];null!==(b=c.exec(a));)b.index===c.lastIndex&&c.lastIndex++,d.push(b[1]);return d},m=function(a,b){if(b){var c=l(a);c.forEach(function(c){var d=c.replace(/[$_]/g,"\\$&"),e=new RegExp("{{\\s*"+d+"\\s*}}");a=a.replace(e,b[c])})}return a};this.addLocale=function(a,b,e){_.findWhere(c,{id:a})||(c.push({id:a,name:b,active:a===g,fileExtension:e||a+".json"}),d[a]={})},this.addResource=function(b){_.findWhere(a,{path:b})||a.push({path:b})},this.setDefaultLocale=function(a){g=a,_.findWhere(c,{id:a})&&i(a)},this.$get=["$templateRequest","$q","$rootScope",function(l,n,o){return{_loadResource:function(b){var c=_.findWhere(a,{path:b}),e=this.getActiveLocale(),f="";return c&&e?(f=e.fileExtension,l(c.path+"/"+f).then(function(a){return _.extend(d[e.id],JSON.parse(a)),a})):n.reject("Resource not available or no locale has been set")},getLocales:function(){return c},getActiveLocale:function(){return h()},get:function(a,b){var c=j(a);return c?m(c,b):e?"...":"MISSING TRANSLATION "+this.getActiveLocale().id+": "+a},setLocale:function(b){var c=[];return e=!0,f=this.getActiveLocale(),i(b),_.each(a,function(a){c.push(this._loadResource(a.path))},this),n.all(c).then(function(){return e=!1,f=null,o.$broadcast("i18n:localeChanged",b),b})},translationIsAvailable:function(a){return!!j(a)},localize:function(a){var c=this.getActiveLocale(),d=a[c.id];return b.isDefined(d)&&""!==d?d:a[g]||k(a)}}}]}),b.module("mwUI.i18n").filter("i18n",["i18n",function(a){function b(b,c){return _.isString(b)?a.get(b,c):_.isObject(b)?a.localize(b):void 0}return b.$stateful=!0,b}]),b.module("mwUI.Inputs",["mwUI.i18n","mwUI.Backbone"]),b.module("mwUI.Inputs").directive("input",function(){return{restrict:"E",link:function(a,c,d){var e=function(){var a=b.element('<span class="custom-checkbox mw-checkbox"></span>'),d=b.element('<span class="state-indicator"></span>'),e=b.element('<span class="state-focus-indicator"></span>');c.wrap(a),d.insertAfter(c),e.insertAfter(d)},f=function(){a.$on("$destroy",function(){c.off(),c.parent(".mw-checkbox").remove()}),e()};"checkbox"===d.type&&f()}}}),b.module("mwUI.Inputs").directive("mwCheckboxGroup",["i18n",function(a){return{restrict:"A",scope:{mwCollection:"=",mwOptionsCollection:"=",mwOptionsLabelKey:"@",mwOptionsLabelI18nPrefix:"@",mwRequired:"=",mwDisabled:"="},templateUrl:"uikit/mw-inputs/directives/templates/mw_checkbox_group.html",link:function(b){b.getLabel=function(c){var d=c.get(b.mwOptionsLabelKey);return d?b.mwOptionsLabelI18nPrefix?a.get(b.mwOptionsLabelI18nPrefix+"."+d):d:void 0},b.isOptionDisabled=function(a){return a.selectable.isDisabled()},b.toggleModel=function(a){var c=b.mwCollection.findWhere(a.toJSON());c?b.mwCollection.remove(c):b.mwCollection.add(a.toJSON())}}}}]);var h=function(){return{restrict:"E",require:"?^mwInputWrapper",link:function(a,b,c,d){var e=["radio","checkbox"];-1===e.indexOf(c.type)&&b.addClass("form-control"),d&&(c.type?d.setType(c.type):b[0].tagName&&d.setType(b[0].tagName.toLowerCase()))}}};b.module("mwUI.Inputs").directive("select",h).directive("input",h).directive("textarea",h),b.module("mwUI.Inputs").directive("input",function(){return{restrict:"E",link:function(a,c,d){var e=function(){var a=b.element('<span class="custom-radio mw-radio"></span>'),d=b.element('<span class="state-indicator"></span>'),e=b.element('<span class="state-focus-indicator"></span>');c.wrap(a),d.insertAfter(c),e.insertAfter(d)},f=function(){a.$on("$destroy",function(){c.off(),c.parent(".mw-radio").remove()}),e()};"radio"===d.type&&f()}}}),b.module("mwUI.Inputs").directive("mwRadioGroup",["i18n",function(a){return{restrict:"A",scope:{mwModel:"=",mwModelAttr:"@",mwOptionsCollection:"=",mwOptionsKey:"@",mwOptionsLabelKey:"@",mwOptionsLabelI18nPrefix:"@",mwRequired:"=",mwDisabled:"="},templateUrl:"uikit/mw-inputs/directives/templates/mw_radio_group.html",link:function(b){b.radioGroupId=_.uniqueId("radio_");var c=function(a){b.mwModelAttr?b.mwModel.set(b.mwModelAttr,a.get(b.mwOptionsKey)):b.mwModel.set(a.toJSON())},d=function(){b.mwModelAttr?b.mwModel.unset(b.mwModelAttr):b.mwModel.clear()};if(b.getLabel=function(c){var d=c.get(b.mwOptionsLabelKey);return d?b.mwOptionsLabelI18nPrefix?a.get(b.mwOptionsLabelI18nPrefix+"."+d):d:void 0},b.isOptionDisabled=function(a){return a.selectable.isDisabled()},b.getModelAttribute=function(){return b.mwModelAttr||b.mwModel.idAttribute},b.isChecked=function(a){return b.mwModelAttr?a.get(b.mwOptionsKey)===b.mwModel.get(b.mwModelAttr):a.id===b.mwModel.id},b.selectOption=function(a){b.isChecked(a)?d():c(a)},b.mwModelAttr&&!b.mwOptionsKey)throw new Error("[mwRadioGroup] When using mwModelAttr the attribute mwOptionsKey is required!")}}}]),b.module("mwUI.Inputs").directive("select",function(){return{link:function(a,c){var d=b.element('<span class="mw-select"></span>'),e=function(){c.wrap(d),c.addClass("custom")};e()}}}),b.module("mwUI.Inputs").directive("mwSelectBox",["i18n",function(a){return{restrict:"A",scope:{mwModel:"=",mwModelAttr:"@",mwOptionsCollection:"=",mwOptionsKey:"@",mwOptionsLabelKey:"@",mwOptionsLabelI18nPrefix:"@",mwPlaceholder:"@",mwRequired:"=",mwDisabled:"="},templateUrl:"uikit/mw-inputs/directives/templates/mw_select_box.html",link:function(b){b.viewModel={};var c=function(a){b.mwModelAttr?b.mwModel.set(b.mwModelAttr,a.get(b.mwOptionsKey)):b.mwModel.set(a.toJSON())},d=function(){b.mwModelAttr?b.mwModel.unset(b.mwModelAttr):b.mwModel.clear()},e=function(){b.mwModel.id&&(b.viewModel.selected=b.mwModel.id.toString())};if(b.getLabel=function(c){var d=c.get(b.mwOptionsLabelKey);return d?b.mwOptionsLabelI18nPrefix?a.get(b.mwOptionsLabelI18nPrefix+"."+d):d:void 0},b.hasPlaceholder=function(){return b.mwPlaceholder||b.mwRequired},b.getPlaceholder=function(){return b.mwPlaceholder?b.mwPlaceholder:b.mwRequired?a.get("mwSelectBox.pleaseSelect"):void 0},b.isOptionDisabled=function(a){return a.selectable.isDisabled()},b.getModelAttribute=function(){return b.mwModelAttr||b.mwModel.idAttribute},b.isChecked=function(a){return b.mwModelAttr?a.get(b.mwOptionsKey)===b.mwModel.get(b.mwModelAttr):a.id===b.mwModel.id},b.select=function(a){a?b.selectOption(b.mwOptionsCollection.get(a)):d()},b.selectOption=function(a){b.isChecked(a)?d():c(a);
},b.mwModel&&(b.mwModel.on("change:"+b.mwModel.idAttribute,e),e()),b.mwModelAttr&&!b.mwOptionsKey)throw new Error("[mwRadioGroup] When using mwModelAttr the attribute mwOptionsKey is required!")}}}]),b.module("mwUI.Inputs").directive("mwToggle",["$timeout",function(a){return{scope:{mwModel:"=",mwDisabled:"=",mwChange:"&"},replace:!0,templateUrl:"uikit/mw-inputs/directives/templates/mw_toggle.html",link:function(b){b.toggle=function(c){b.mwModel!==c&&(b.mwModel=!b.mwModel,a(function(){b.mwChange({value:b.mwModel})}))}}}}]),b.module("mwUI.Inputs").config(["i18nProvider",function(a){a.addResource("uikit/mw-inputs/i18n")}]),b.module("mwUI.Layout",[]),b.module("mwUI.Layout").directive("mwColumnLayout",function(){return{link:function(a,b){b.addClass("mw-column-layout")}}}),b.module("mwUI.Layout").directive("mwHeader",["$rootScope","$route","$location",function(a,b,c){return{transclude:!0,scope:{title:"@",url:"@",mwTitleIcon:"@",showBackButton:"=",mwBreadCrumbs:"="},templateUrl:"uikit/mw-layout/directives/templates/mw_header.html",link:function(d,e,f,g,h){a.siteTitleDetails=d.title,h(function(a){a&&0!==a.length||d.showBackButton||e.find(".mw-header").addClass("no-buttons")}),d.refresh=function(){b.reload()},!d.url&&d.mwBreadCrumbs&&d.mwBreadCrumbs.length>0?(d.url=d.mwBreadCrumbs[d.mwBreadCrumbs.length-1].url,d.url=d.url.replace("#","")):!d.url&&d.showBackButton&&console.error("Url attribute in header is missing!!"),d.back=function(){c.path(d.url)}}}}]),b.module("mwUI.Layout").directive("mwRow",function(){return{require:"^mwRowLayout",link:function(a,c,d,e){var f,g,h=c.parent(),i=function(){var a=e.getRegistered(),b=0;a.forEach(function(a){a.el!==c&&(b+=a.el.height())}),c.css("height","calc(100vh - "+b+"px)")};c.addClass("mw-row"),e.register({scope:a,el:c}),b.isDefined(d.mwExtend)&&(f=mwUI.Utils.shims.domObserver(h,i),g=mwUI.Utils.shims.domObserver(c,i),a.$on("$destroy",function(){f.disconnect(),g.disconnect()}))}}}),b.module("mwUI.Layout").directive("mwRowLayout",function(){return{require:"?^^mwRowLayout",controller:function(){var a=[];this.register=function(b){a.push(b)},this.getRegistered=function(){return a}},link:function(a,b){b.addClass("mw-row-layout")}}}),b.module("mwUI.Layout").directive("mwSubNav",function(){return{restrict:"A",scope:{justified:"="},transclude:!0,replace:!0,templateUrl:"uikit/mw-layout/directives/templates/mw_sub_nav.html"}}),b.module("mwUI.Layout").directive("mwSubNavPill",["$location",function(a){return{restrict:"A",scope:{url:"@mwSubNavPill",mwDisabled:"="},transclude:!0,replace:!0,templateUrl:"uikit/mw-layout/directives/templates/mw_sub_nav_pill.html",link:function(b,c){var d=function(a){b.url&&a===b.url.slice(1)?c.addClass("active"):c.removeClass("active")};b.$watch("url",function(b){b&&d(a.$$path)}),b.navigate=function(c){b.mwDisabled||(c=c.replace(/#\//,""),a.path(c),a.replace())},d(a.$$path)}}}]),b.module("mwUI.List",["mwUI.i18n"]),b.module("mwUI.List").directive("mwListableBb",function(){return{scope:{collection:"=",mwListCollection:"="},compile:function(a){return a.append("<tfoot mw-listable-footer-bb></tfoot>"),function(a,b){b.addClass("table table-striped mw-list")}},controller:["$scope",function(a){var b=a.columns=[],c=null,d=null;this.actionColumns=[],this.registerColumn=function(a){b.push(a)},this.unRegisterColumn=function(a){if(a&&a.$id){var c=_.findWhere(b,{$id:a.$id}),d=_.indexOf(b,c);d>-1&&b.splice(d,1)}},this.getColumns=function(){return b},this.getCollection=function(){return c},this.isSingleSelection=function(){return c&&c.selectable?c.selectable.isSingleSelection():!1},a.$on("$destroy",function(){this.actionColumns=[]}.bind(this)),a.mwListCollection?(c=a.mwListCollection.getCollection(),d=a.mwListCollection.getMwListCollectionFilter()):a.collection&&(console.warn("The scope attribute collection is deprecated please use the mwCollection instead"),c=a.collection)}]}}),b.module("mwUI.List").directive("mwListableBodyRowBb",["$timeout",function(a){return{restrict:"A",require:"^mwListableBb",compile:function(c){return c.prepend('<td  ng-if="collection.selectable && item.selectable" mw-list-body-row-checkbox item="item"></td>'),function(c,d,e,f){var g="selected";if(c.collection=f.getCollection(),!c.item)throw new Error('No item available in the list! Please make sure to use ng-repeat="item in collection"');c.item&&c.item.selectable&&!c.item.selectable.isDisabled()?d.addClass("selectable clickable"):f.actionColumns&&f.actionColumns.length>0&&d.addClass("clickable"),d.on("click",function(){c.item&&c.item.selectable&&!c.item.selectable.isDisabled()&&a(function(){c.item.selectable.toggleSelect()})}),d.on("dblclick",function(){f.actionColumns&&b.isNumber(c.$index)&&f.actionColumns[c.$index]&&(document.location.href=f.actionColumns[c.$index])}),c.$watch("item.selectable.isSelected()",function(a){a?d.addClass(g):d.removeClass(g)})}}}}]),b.module("mwUI.List").directive("mwListBodyRowCheckbox",function(){return{restrict:"A",require:"^mwListableBb",scope:{item:"="},templateUrl:"uikit/mw-list/directives/templates/mw_list_body_row_checkbox.html",link:function(a,b,c,d){a.isSingleSelection=d.isSingleSelection(),a.click=function(a,b){b.stopPropagation(),a.selectable&&a.selectable.toggleSelect()},a.$watch("item.selectable.isDisabled()",function(b){b&&a.item.selectable.unSelect()})}}}),b.module("mwUI.List").directive("mwListableFooterBb",function(){return{require:"^mwListableBb",templateUrl:"uikit/mw-list/directives/templates/mw_list_footer.html",link:function(a,b,c,d){a.collection=d.getCollection(),a.columns=d.getColumns(),a.showSpinner=function(){return a.collection.filterable.hasNextPage()}}}}),b.module("mwUI.List").directive("mwListableHead2",["$window","$document","i18n",function(a,c,d){return{scope:{collection:"=",affix:"=",affixOffset:"=",collectionName:"@",nameFn:"&",nameAttribute:"@",localizeName:"@",nameI18nPrefix:"@",nameI18nSuffix:"@",searchAttribute:"@"},transclude:!0,templateUrl:"uikit/mw-list/directives/templates/mw_list_head.html",link:function(c,e,f,g,h){var i,j=b.element("body"),k=e.parents(".modal .modal-body"),l=!1,m=b.isDefined(c.affix)?c.affix:!0,n=b.element(a);c.selectable=!1,c.selectedAmount=0,c.collectionName=c.collectionName||d.get("List.mwListHead.items"),c.isModal=k.length>0,c.isLoadingModelsNotInCollection=!1,c.hasFetchedModelsNotInCollection=!1,c.isLoadingModelsNotInCollection=!1,c.hasFetchedModelsNotInCollection=!1;var o,p=_.throttle(function(){if(!o){var a,d,f,g,h;c.isModal?(a=b.element(".modal-header").offset().top,d=b.element(".modal-header").innerHeight(),h=-3):(a=b.element("[mw-header]").offset().top,d=b.element("[mw-header]").innerHeight(),h=5),f=a+d,g=e.offset().top,o=g-f-h}var j=i.scrollTop();j>o&&m?(e.find(".mw-listable-header").css("top",j-o),e.addClass("affixed")):m?(e.find(".mw-listable-header").css("top","initial"),e.removeClass("affixed")):i.off("scroll",p)},10),q=_.throttle(function(){e.find(".mw-listable-header").css("top","initial"),o=null}),r=function(){if(!c.hasFetchedModelsNotInCollection){var a=[];if(c.selectable.getSelected().each(function(b){b.selectable.isInCollection||c.getModelAttribute(b)||a.push(b)}),0!==a.length){var b=c.collection.constructor.extend({filterableOptions:function(){return{filterDefinition:function(){var b=new window.mCAP.Filter,c=[];return a.forEach(function(a){a.id&&c.push(b.string(a.idAttribute,a.id))}),b.or(c)}}}}),d=new b;d.url=c.collection.url(),c.isLoadingModelsNotInCollection=!0,d.fetch().then(function(b){c.hasFetchedModelsNotInCollection=!0;var d=c.selectable.getSelected();b.each(function(a){d.get(a.id).set(a.toJSON())});var e=_.difference(_.pluck(a,"id"),b.pluck("uuid"));e.forEach(function(a){d.get(a).selectable.isDeletedItem=!0}),c.isLoadingModelsNotInCollection=!1})}}};c.showSelected=function(){l=!0,r(),setTimeout(function(){var d;c.isModal?(d=k.height()+(k.offset().top-e.find(".selected-items").offset().top)+25,k.css("overflow","hidden")):(d=b.element(a).height()-e.find(".selected-items").offset().top+i.scrollTop()-25,j.css("overflow","hidden")),e.find(".selected-items").css("height",d),e.find(".selected-items").css("bottom",-1*d)})},c.hideSelected=function(){c.isModal?k.css("overflow","auto"):j.css("overflow","inherit"),l=!1},c.canShowSelected=function(){return c.selectable&&l&&c.selectedAmount>0},c.unSelect=function(a){a.selectable.unSelect()},c.toggleSelectAll=function(){c.selectable.toggleSelectAll()},c.getTotalAmount=function(){return c.collection.filterable&&c.collection.filterable.getTotalAmount()?c.collection.filterable.getTotalAmount():c.collection.length},c.toggleShowSelected=function(){l?c.hideSelected():c.showSelected()},c.getModelAttribute=function(a){if(c.nameAttribute){var e=a.get(c.nameAttribute);if(c.nameI18nPrefix||c.nameI18nSuffix){var f=c.nameI18nPrefix||"",g=c.nameI18nSuffix||"";return d.get(f+"."+e+"."+g)}return b.isDefined(c.localizeName)?d.localize(e):e}return c.nameFn({item:a})};var s=function(){c.selectable=c.collection.selectable,i=c.isModal?k:n,i.on("scroll",p),i.on("resize",q),c.$on("$destroy",function(){i.off("scroll",p)}),c.$on("$destroy",function(){i.off("resize",q)}),e.on("focus","input[type=text]",function(){e.find(".search-bar").addClass("focused")}),e.on("blur","input[type=text]",function(){e.find(".search-bar").removeClass("focused")})};h(function(a){a&&a.length>0&&e.addClass("has-extra-content")}),c.$watch(function(){return c.selectable?c.selectable.getSelected().length:0},function(a){c.selectedAmount=a,1>a&&c.hideSelected()}),c.$watch("collection",function(a){a&&s()})}}}]),b.module("mwUI.List").directive("mwListableHeaderBb",function(){return{require:"^mwListableBb",scope:{property:"@sort"},transclude:!0,replace:!0,templateUrl:"uikit/mw-list/directives/templates/mw_list_header.html",link:function(a,b,c,d){var e="+",f="-",g=d.getCollection(),h=function(){return g&&g.filterable?g.filterable.getSortOrder():!1},i=function(a,b){var c=b+a;return g.filterable.setSortOrder(c),g.fetch()};a.toggleSortOrder=function(){if(a.property){var b=e;h()===e+a.property&&(b=f),i(a.property,b)}},a.isSelected=function(b){var c=h();return c&&b?c===b+a.property:c&&!b?c==="+"+a.property||c==="-"+a.property:void 0},d.registerColumn(a),a.$on("$destroy",function(){d.unRegisterColumn(a)})}}}),b.module("mwUI.List").directive("mwListableHeaderRowBb",function(){return{require:"^mwListableBb",scope:!0,compile:function(a){return a.prepend('<th ng-if="hasCollection" width="1%"></th>'),a.append('<th ng-if="actionColumns.length > 0" colspan="{{ actionColumns.length }}" width="1%" class="action-button"></th>'),function(a,c,d,e){a.hasCollection=!1;var f=e.getCollection();f&&(a.hasCollection=b.isDefined(f.length)&&f.selectable),a.actionColumns=e.actionColumns}}}}),b.module("mwUI.List").directive("mwListableLinkShowBb",function(){return{restrict:"A",require:"^mwListableBb",scope:{link:"@mwListableLinkShowBb"},template:'<span mw-link-show="{{link}}"></span>',link:function(a,b,c,d){d.actionColumns.push(a.link)}}}),b.module("mwUI.List").config(["i18nProvider",function(a){a.addResource("uikit/mw-list/i18n")}]),b.module("mwUI.Menu",[]),window.mwUI.Menu={};var i=mwUI.Utils.shims.routeToRegExp,j=window.mwUI.Backbone.NestedModel.extend({idAttribute:"id",defaults:function(){return{url:null,label:null,icon:null,activeUrls:[],order:null}},nested:function(){return{subEntries:window.mwUI.Menu.MwMenuSubEntries}},_throwMissingIdError:function(a){throw new Error("No id is specified for the entry",a)},_throwNoTypeCouldBeDeterminedError:function(a){throw new Error("No type could be determinded for the given entry: ",a)},_throwNotValidEntryError:function(a){throw new Error("Is not a valid entry",a)},_determineType:function(a){return a.type||(a.url||a.subEntries&&0!==a.subEntries.length||a.label||a.icon?a.url||a.subEntries&&a.subEntries.length>0&&(a.label||a.icon)?a.type="ENTRY":this._throwNoTypeCouldBeDeterminedError():a.type="DIVIDER"),a},_missingUrl:function(a){return!("ENTRY"!==a.type||a.url||a.subEntries&&0!==a.subEntries.length)},_missingLabel:function(a){return"ENTRY"===a.type&&!a.label&&!a.icon},isValidEntry:function(a){return a.type?!this._missingUrl(a)&&!this._missingLabel(a):!1},ownUrlIsActiveForUrl:function(a){return this.get("url")?a.match(i(this.get("url"))):!1},activeUrlIsActiveForUrl:function(a){var b=!1;return this.get("activeUrls").forEach(function(c){b||(b=a.match(i(c)))}),b},isActiveForUrl:function(a){return this.ownUrlIsActiveForUrl(a)||this.activeUrlIsActiveForUrl(a)},getActiveSubEntryForUrl:function(a){return this.get("subEntries").getActiveEntryForUrl(a)},hasActiveSubEntryOrIsActiveForUrl:function(a){return"ENTRY"===this.get("type")&&(!!this.getActiveSubEntryForUrl(a)||this.isActiveForUrl(a))},constructor:function(a,b){return a=this._determineType(a),a.id||this._throwMissingIdError(),this.isValidEntry(a)||this._throwNotValidEntryError(),window.mwUI.Backbone.NestedModel.prototype.constructor.call(this,a,b)}});window.mwUI.Menu.MwMenuEntry=j;var k=Backbone.Collection.extend({model:window.mwUI.Menu.MwMenuEntry,comparator:"order",_isAlreadyRegistered:function(a){return this.get(a.id)||a.url&&this.findWhere({url:a.url})},_throwIsAlreadyRegisteredError:function(a){throw a.url?new Error("The entry with the id "+a.id+" and the url "+a.url+" has already been registered"):new Error("The entry with the id "+a.id+" has already been registered")},add:function(a){return _.isArray(a)?a.forEach(function(a){this._isAlreadyRegistered(a)&&this._throwIsAlreadyRegisteredError(a)}.bind(this)):this._isAlreadyRegistered(a)&&this._throwIsAlreadyRegisteredError(a),Backbone.Collection.prototype.add.apply(this,arguments)},addEntry:function(a,b,c,d){d=d||{};var e={id:a,url:b,label:c,icon:d.icon,activeUrls:d.activeUrls||[],order:d.order,subEntries:d.subEntries||[],type:"ENTRY"};return this.add(e)},addDivider:function(a,b){b=b||{};var c={id:a,label:b.label,order:b.order,type:"DIVIDER"};return this.add(c)},getActiveEntryForUrl:function(a){var b=!1,c=null;return this.each(function(d){!b&&d.hasActiveSubEntryOrIsActiveForUrl(a)&&(b=!0,c=d)}),c}});window.mwUI.Menu.MwMenuEntries=k;var l=window.mwUI.Menu.MwMenuEntries.extend({});window.mwUI.Menu.MwMenuSubEntries=l;var m=window.mwUI.Menu.MwMenuEntries.extend({});window.mwUI.Menu.MwMenu=m,b.module("mwUI.Menu",[]).provider("mwSidebarMenu",function(){var a,b=new mwUI.Menu.MwMenu;this.getMenu=function(){return b},this.setLogoUrl=function(b){a=b},this.getLogoUrl=function(){return a},this.$get=function(){return this}}),b.module("mwUI.Menu").directive("mwMenu",function(){return{scope:{menu:"=mwMenu"},templateUrl:"uikit/mw-menu/directives/templates/mw_menu.html"}}),b.module("mwUI.Menu").directive("mwMenuEntry",function(){return{scope:{},bindToController:{entry:"=mwMenuEntry"},templateUrl:"uikit/mw-menu/directives/templates/mw_menu_entry.html",controllerAs:"menuEntryCtrl",controller:["$rootScope","$location",function(a,b){this.isActive=this.entry.isActiveForUrl(b.url()),a.$on("$locationChangeSuccess",function(){this.isActive=this.entry.hasActiveSubEntryOrIsActiveForUrl(b.url())}.bind(this))}]}}),b.module("mwUI.Menu").directive("mwMenuSubEntry",function(){return{scope:{},bindToController:{entry:"=mwMenuSubEntry"},templateUrl:"uikit/mw-menu/directives/templates/mw_menu_sub_entry.html",controllerAs:"menuSubEntryCtrl",controller:["$rootScope","$location",function(a,b){this.isActive=this.entry.isActiveForUrl(b.url()),a.$on("$locationChangeSuccess",function(){this.isActive=this.entry.hasActiveSubEntryOrIsActiveForUrl(b.url())}.bind(this))}]}}),b.module("mwUI.Menu").directive("mwSidebarMenu",["mwSidebarMenu",function(a){return{templateUrl:"uikit/mw-menu/directives/templates/mw_sidebar_menu.html",transclude:!0,controllerAs:"ctrl",controller:function(){var b=!1;this.mwMenu=a.getMenu(),this.mwMenuLogo=a.getLogoUrl(),this.isOpened=function(){return b},this.toggleState=function(){b=!b}}}}]),b.module("mwUI.Modal",["mwUI.i18n"]),b.module("mwUI.Modal").directive("mwModal",["mwModalTmpl",function(a){return{restrict:"A",scope:{title:"@"},transclude:!0,templateUrl:"uikit/mw-modal/directives/templates/mw_modal.html",link:function(b){b.$emit("COMPILE:FINISHED"),b.mwModalTmpl=a}}}]),b.module("mwUI.Modal").directive("mwModalBody",function(){return{transclude:!0,templateUrl:"uikit/mw-modal/directives/templates/mw_modal_body.html"}}),b.module("mwUI.Modal").directive("mwModalConfirm",function(){return{restrict:"A",transclude:!0,scope:!0,templateUrl:"uikit/mw-modal/directives/templates/mw_modal_confirm.html",link:function(a,c,d){b.forEach(["ok","cancel"],function(b){a[b]=function(){a.$eval(d[b])}})}}}),b.module("mwUI.Modal").directive("mwModalFooter",function(){return{transclude:!0,templateUrl:"uikit/mw-modal/directives/templates/mw_modal_footer.html"}}),b.module("mwUI.Modal").service("Modal",["$rootScope","$templateCache","$document","$compile","$controller","$q","$templateRequest","$timeout","Toast",function(a,c,d,e,f,g,h,i,j){var k=[],l=function(c,d){var l,m,n,o,p=c.templateUrl,q=c.scope||a,r=c.scopeAttributes||{},s=c.controller,t=c["class"]||"",u=c.el?c.el:"body .module-page",v=d||{},w=!1,x=this,y=function(){if(!p)throw new Error("Modal service: templateUrl options is required.");return h(p)},z=function(){n.on("hidden.bs.modal",function(){x.destroy()})},A=function(){var b=a.$on("$locationChangeStart",function(a,c){n&&w?(a.preventDefault(),x.hide().then(function(){document.location.href=c,b()})):b()})},B=function(){var a=g.defer();return m=q.$new(),_.extend(m,r),s&&f(s,{$scope:m,modalId:p}),q.hideModal=function(){return x.hide()},y().then(function(b){l=e(b.trim())(m),m.$on("COMPILE:FINISHED",function(){if(l.addClass("mw-modal"),l.addClass(t),n=l.find(".modal"),v.show=!1,n.modal(v),n.data()){var b=n.data()["bs.modal"],c=b.backdrop;b.backdrop=function(a){c.call(b,a,$(u).find(".modal"))}}z(),A(),a.resolve()})}),a.promise};this.id=p,this.getScope=function(){return q},this.show=function(){j.clear(),o=b.element(document.activeElement),B().then(function(){b.element(u).append(l),n.modal("show"),w=!0,k.push(this),n.on("shown.bs.modal",function(){b.element(this).find("input:text:visible:first").focus()}),o&&n.on("hidden.bs.modal",function(){o.focus()})}.bind(this))},this.setScopeAttributes=function(a){_.isObject(a)&&_.extend(r,a)},this.hide=function(){var a=g.defer();return n&&w?(n.one("hidden.bs.modal",function(){n.off(),x.destroy(),w=!1,a.resolve()}),n.modal("hide")):a.resolve(),a.promise},this.toggle=function(){n.modal("toggle")},this.destroy=function(){k=_.without(k,this);var a=j.getToasts();a.forEach(function(a){+new Date-a.initDate>500&&j.removeToast(a.id)}),i(function(){l&&(l.remove(),w=!1),m&&m.$destroy()}.bind(this))},function(){y(),q.$on("$destroy",function(){x.hide()})}()};this.create=function(a){return new l(a)},this.prepare=function(a,b){var c=function(){return new l(a,b)};return c},this.getOpenedModals=function(){return k}}]),b.module("mwUI.Modal").provider("mwModalTmpl",function(){var a;this.setLogoPath=function(b){a=b},this.$get=function(){return{getLogoPath:function(){return a}}}}),$.fn.modal.Constructor.prototype.backdrop=function(a,b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=$.support.transition&&c;if(this.$backdrop=$('<div class="modal-backdrop '+c+'" />').appendTo(b),this.$backdrop.on("click",$.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a)return;d?this.$backdrop.one($.support.transition.end,a).emulateTransitionEnd(150):a()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()},b.module("mwUI.Modal").config(["i18nProvider",function(a){a.addResource("uikit/mw-modal/i18n")}]),b.module("mwUI.ResponseToastHandler",["mwUI.Toast","mwUI.ResponseHandler","mwUI.i18n","mwUI.Utils"]),b.module("mwUI.ResponseToastHandler").provider("ResponseToastHandler",["$provide","ResponseHandlerProvider",function(a,b){var c=[],d={DEFAULT:{type:"default",autoHide:!1}},e=function(b,c,e){e=e||{};var f=_.uniqueId("notification_factory");return a.factory(f,["Toast","i18n","callbackHandler",function(a,f,g){return function(h){if(b){var i,j=a.findToast(c),k={},l=j?b.plural:b.singular,m={id:c};if(j&&b.plural?l=b.plural:b.singular&&(l=b.singular),k.$count=j?j.replaceCount+1:0,k.$count++,e.preProcess){if(_.extend(k,h.data),i=g.exec(e.preProcess,[l,k,f,h],this),!i)return}else{var n=h.data||{};if(n.results&&!_.isObject(n.results)?k={message:n.results}:n.results&&n.results.length>0&&_.extend(k,n.results[0]),h.config.instance&&"function"==typeof h.config.instance.toJSON){var o=h.config.instance.toJSON();_.extend(o,k),k=o}i=f.get(l,k)}if(e.toastType){var p=d[e.toastType];if(!p)throw new Error("Type "+e.toastType+" is not available. Make sure you have configured it first");_.extend(m,p)}else _.extend(m,d.DEFAULT);a.addToast(i,m)}}}]),f};this.registerToastType=function(a,b){if(d[a])throw new Error("The toast type "+a+" is already defined. You can configure a toast type only once");d[a]=b},this.registerToast=function(a,d,f){f=f||{};var g=f.statusCodes||[f.onSuccess?"SUCCESS":"ERROR"];if(_.isUndefined(d)||_.isObject(d)&&!d.singular)throw new Error('You have to pass a messages object and define at least the singular message {singular:"Mandatory", plural:"Optional"}');g.forEach(function(g){var h=f.id||a+"_"+f.method+"_"+g,i=e(d,h,f);if(c.indexOf(h)>-1)throw new Error("You can not define a second message for the route "+a+" and method "+f.method+" because you have already registered one!");"SUCCESS"===g||"ERROR"===g?delete f.statusCodes:f.statusCodes=[g],b.registerAction(a,i,f),c.push(h)})},this.registerSuccessToast=function(a,b,c,d,e){this.registerToast(a,b,{method:c,toastType:d,onSuccess:!0,preProcess:e})},this.registerErrorToast=function(a,b,c,d,e){this.registerToast(a,b,{method:c,toastType:d,onError:!0,preProcess:e})},this.registerDefaultSuccessToast=function(a,b,c,d){return this.registerToast("*",a,{method:b,toastType:c,onSuccess:!0,preProcess:d})},this.registerDefaultErrorToast=function(a,b,c,d){return this.registerToast("*",a,{method:b,toastType:c,onError:!0,preProcess:d})},this.$get=function(){}}]),b.module("mwUI.ResponseHandler",["mwUI.Utils"]),b.module("mwUI.ResponseHandler").provider("ResponseHandler",function(){var a={POST:[],PUT:[],GET:[],DELETE:[],PATCH:[]},b=function(a){return new Error("Method "+a+" is invalid. Valid methods are POST, PUT, GET, DELETE, PATCH")},c=mwUI.Utils.shims.routeToRegExp,d=function(a){var b={ERROR:[],SUCCESS:[]},d=a,e=null,f=function(a,c){var d=b[a],e=d||[];e.push(c),b[a]=e},g=function(a){return b[a]};this.matchesUrl=function(a){return a.match(e)},this.registerCallbackForStatusCodes=function(a,b){a.forEach(function(a){f(a,b)},this)},this.registerCallbackForSuccess=function(a){f("SUCCESS",a)},this.registerCallbackForError=function(a){f("ERROR",a)},this.getCallbacksForStatusCode=function(a){return g(a)},this.getCallbacksForSuccess=function(){return g("SUCCESS")},this.getCallbacksForError=function(){return g("ERROR")};var h=function(){e=c(d)};h.call(this)};this.registerAction=function(c,e,f){if(f=f||{},!f.onError&&!f.onSuccess&&!f.statusCodes)throw new Error("You have to specify either some statusCodes or set onSuccess or onError to true in the options parameter object");if(f.onError&&f.onSuccess||(f.onError||f.onSuccess)&&f.statusCodes)throw new Error("Definition is too imprecise");if(!f.method&&!f.methods)throw new Error('Method has to be defined in options e.g method: "POST" or methods:["POST"]');f.methods=f.methods||[f.method],f.methods.forEach(function(g){if(!a[g])throw b(g);var h=_.findWhere(a[g],{id:c}),i=h||{id:c,handler:new d(c)},j=i.handler;f.statusCodes?j.registerCallbackForStatusCodes(f.statusCodes,e):f.onSuccess?j.registerCallbackForSuccess(e):f.onError&&j.registerCallbackForError(e),h||a[g].push(i)})},this.registerSuccessAction=function(a,b,c){return this.registerAction(a,b,{method:c,onSuccess:!0})},this.registerErrorAction=function(a,b,c){return this.registerAction(a,b,{method:c,onError:!0})},this.registerDefaultAction=function(a,b){return b=b||{},this.registerAction("*",a,b)},this.registerDefaultSuccessAction=function(a,b){return this.registerAction("*",a,{method:b,onSuccess:!0})},this.registerDefaultErrorAction=function(a,b){return this.registerAction("*",a,{method:b,onError:!0})},this.$get=["$injector","$q","callbackHandler",function(c,d,e){var f=function(a,b,c,e){var g=a.shift();if(e||(e=d.defer()),g){var h,i=g(b,c);h=i&&i.then?i:c?d.reject(i||b):d.when(i||b),h.then(function(b){f(a,b,!1,e)},function(b){f(a,b,!0,e)})}else c?e.reject(b):e.resolve(b);return e.promise},g=function(a,b,c){var d=[];return a.forEach(function(a){a&&(a=e.getFn(a),d.push(a))},this),f(d,b,c)},h=function(a,b,c){var d=a.getCallbacksForStatusCode(b),e=a.getCallbacksForSuccess(),f=a.getCallbacksForError();return d?d:c?f:e};return{getHandlerForUrlAndCode:function(c,d,e,f){var g;if(!a[c])throw b(c);return a[c].forEach(function(a){var b=a.handler,c=h(b,e,f);!g&&b.matchesUrl(d)&&c&&c.length>0&&(g=b)}),g},handle:function(a,b){var c=a.config.url,d=a.config.method,e=a.status,f=this.getHandlerForUrlAndCode(d,c,e,b);if(f){var i=h(f,e,b);if(i)return g(i,a,b)}}}}]}),b.module("mwUI.ResponseHandler").config(["$provide","$httpProvider",function(a,b){a.factory("requestInterceptorForHandling",["$q","ResponseHandler",function(a,b){var c=function(c,d){var e=b.handle(c,d);return e?e:d?a.reject(c):a.when(c)};return{response:function(a){return c(a,!1)},responseError:function(a){return c(a,!0)}}}]),b.interceptors.push("requestInterceptorForHandling")}]),b.module("mwUI.Toast",[]),b.module("mwUI.Toast").provider("Toast",function(){var a=5e3,b=[],c={primary:"fa-flag-o",info:"fa-info",success:"fa-check",warning:"fa-warning",danger:"fa-exclamation"},d=function(a,b){b=b||{},b.button=b.button||{};var d,e={id:b.id||_.uniqueId("toast"),type:b.type||"default",visible:!0,message:a,title:b.title,autoHide:b.autoHide||!1,autoHideTime:b.autoHideTime||5e3,autoHideCallback:b.autoHideCallback,isHtmlMessage:b.isHtmlMessage,icon:b.icon||c[b.type]||"fa-info",button:{title:b.button.title,link:b.button.link,target:b.button.target,isLink:b.button.isLink||!!b.button.link,action:b.button.action},replaceCount:0,initDate:+new Date},f=function(){e.autoHide&&(d=window.setTimeout(function(){e.autoHideCallback&&"function"==typeof e.autoHideCallback&&(e.visible=!1,e.autoHideCallback.apply(this,arguments))}.bind(this),e.autoHideTime))},g=function(){d&&window.clearTimeout(d),f()},h=function(a){e.autoHideCallback=a,g()},i=function(a){e.message=a,e.replaceCount++,g()};return e.replaceMessage=i,e.setAutoHideCallback=h,f(),e};this.setAutoHideTime=function(b){a=b},this.setDefaultIcons=function(a){_.extend(c,a)},this.$get=["$timeout",function(c){return{findToast:function(a){var c=_.findWhere(b,{id:a});return c?c.toast:!1},clear:function(){b=[]},getToasts:function(){return _.pluck(b,"toast")},replaceToastMessage:function(a,b){var c=this.findToast(a);return c&&c.replaceMessage(b),c},removeToast:function(a){var c=_.findWhere(b,{id:a}),d=_.indexOf(b,c);return c&&b.splice(d,1),c},addToast:function(e,f){f=f||{},f.autoHideTime=f.autoHideTime||a;var g=this.findToast(f.id);if(!g){var h=new d(e,f),i=function(){c(function(){f.autoHideCallback&&"function"==typeof f.autoHideCallback&&f.autoHideCallback.apply(this,arguments),this.removeToast(h.id)}.bind(this))}.bind(this);return h.setAutoHideCallback(i),b.push({id:h.id,toast:h}),h}this.replaceToastMessage(g.id,e)}}}]}),b.module("mwUI.Toast").directive("mwToasts",["Toast",function(a){return{templateUrl:"uikit/mw-toast/directives/templates/mw_toasts.html",link:function(b){b.toasts=a.getToasts(),b.$watch(function(){return a.getToasts().length},function(){b.toasts=a.getToasts()}),b.hideToast=function(b){a.removeToast(b)}}}}]),b.module("mwUI.UiComponents",["mwUI.i18n","mwUI.Utils"]),b.module("mwUI.UiComponents").directive("mwAlert",function(){return{restrict:"A",replace:!0,scope:{type:"@mwAlert"},transclude:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_alert.html"}}),b.module("mwUI.UiComponents").directive("mwLinkShow",function(){return{restrict:"A",scope:{link:"@mwLinkShow"},templateUrl:"uikit/mw-ui-components/directives/templates/mw_arrow_link.html"}}),b.module("mwUI.UiComponents").directive("mwBadge",function(){return{restrict:"A",replace:!0,scope:{mwBadge:"@"},transclude:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_badge.html"}}),b.module("mwUI.UiComponents").directive("mwBreadCrumb",function(){return{scope:{url:"@",title:"@"},templateUrl:"uikit/mw-ui-components/directives/templates/mw_bread_crumb.html"}}),b.module("mwUI.UiComponents").directive("mwBreadCrumbsHolder",function(){return{transclude:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_bread_crumbs_holder.html"}}),b.module("mwUI.UiComponents").directive("mwButtonHelp",["i18n","$compile",function(a,c){return{restrict:"A",scope:!0,link:function(a,d){var e,f=c(b.element('<div mw-icon="mwUI.question">'))(a).addClass("help-icon hidden-sm hidden-xs");d.addClass("mw-button-help"),d.prepend(f);var g=function(){e=b.element("<div>"+a.helpText+"<ul></ul></div>").addClass("mw-button-help-popover popover"),b.forEach(a.hintsToShow,function(a){e.find("ul").append("<li>"+a.text+"</li>")})};f.hover(function(){g();var a=b.element(this).offset();b.element("body").append(e),e.css("top",a.top-e.height()/2+10-b.element(document).scrollTop()),e.css("left",a.left+40)},function(){b.element("body > .mw-button-help-popover").remove()}),a.$watch("hintsToShow",function(a){a&&a.length?f.removeClass("hidden"):f.addClass("hidden")}),a.$on("$destroy",function(){e&&e.remove()})},controller:["$scope",function(c){c.registeredHints=[],c.hintsToShow=[],c.helpText=a.get("UiComponents.mwButtonHelp.isDisabledBecause"),c.$on("i18n:localeChanged",function(){c.helpText=a.get("common.buttonHelp")});var d=function(){c.hintsToShow=[],b.forEach(c.registeredHints,function(a){a.condition&&c.hintsToShow.push(a)})};this.register=function(a){c.$watch(function(){return a.condition},d),c.registeredHints.push(a)}}]}}]),b.module("mwUI.UiComponents").directive("mwButtonHelpCondition",function(){return{restrict:"A",require:"^mwButtonHelp",scope:{condition:"=mwButtonHelpCondition",text:"@mwButtonHelpText"},link:function(a,b,c,d){d.register(a)}}}),b.module("mwUI.UiComponents").directive("mwCollapsable",function(){return{transclude:!0,scope:{mwCollapsable:"=",title:"@mwTitle"},templateUrl:"uikit/mw-ui-components/directives/templates/mw_collapsible.html",link:function(a){a.viewModel={},a.viewModel.collapsed=!1,a.toggle=function(){a.viewModel.collapsed=!a.viewModel.collapsed},a.mwCollapsable===!1&&(a.viewModel.collapsed=!0)}}}),b.module("mwUI.UiComponents").directive("mwIndefiniteLoading",function(){return{templateUrl:"uikit/mw-ui-components/directives/templates/mw_indefinite_loading.html"}}),b.module("mwUI.UiComponents").directive("mwIcon",["mwIcon",function(a){return{scope:{icon:"@mwIcon",tooltip:"@"},templateUrl:"uikit/mw-ui-components/directives/templates/mw_icon.html",link:function(b){b.viewModel={icon:null,iconSet:null,oldIcon:null};var c=function(a){var c=a.match(/^fa-/),d=a.match(/rln-icon/);c?b.viewModel.oldIcon="fa "+a:d?b.viewModel.oldIcon="rln-icon "+a:b.viewModel.oldIcon="glyphicon glyphicon-"+a},d=function(a){b.viewModel.iconSet.getIconForKey(a).then(function(a){b.viewModel.icon=a})},e=function(e){var f,g,h=e.split(".");h.length>1?(f=h.splice(0,1)[0],g=h.join("."),b.viewModel.iconSet=a.getIconSet(f),d(g),b.viewModel.iconSet.on("icons:replace",function(){d(g)})):c(e)};b.$watch("icon",function(a){a&&e(a)})}}}]),b.module("mwUI.UiComponents").directive("mwOptionGroup",function(){return{scope:{title:"@",description:"@",icon:"@",mwDisabled:"="},transclude:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_option_group.html",link:function(a,b){a.randomId=_.uniqueId("option_group_"),b.find("input").attr("id",a.randomId);
}}}),b.module("mwUI.UiComponents").directive("mwPanel",function(){return{restrict:"A",transclude:!0,scope:{type:"@mwPanel",title:"@",closeable:"="},templateUrl:"uikit/mw-ui-components/directives/templates/mw_panel.html",link:function(a,b){a.closePanel=function(){b.remove()}}}}),b.module("mwUI.UiComponents").directive("mwSpinner",function(){return{restrict:"A",scope:!0,replace:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_spinner.html"}}),b.module("mwUI.UiComponents").directive("mwRating",function(){return{restrict:"A",scope:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_star_rating.html",link:function(a,b,c){a.stars=[];var d=function(){a.stars=[];var b=a.$eval(c.mwRating)||0,d=a.$eval(c.max)||5;b>d&&(b=d),0>b&&(b=0);for(var e=0;e<Math.floor(b);e++)a.stars.push({state:"fa-star"});for(b-Math.floor(b)>=.5&&a.stars.push({state:"fa-star-half-full"});c.max&&a.stars.length<d;)a.stars.push({state:"fa-star-o"})};c.$observe("mwRating",function(){d()}),c.$observe("max",function(){d()})}}}),b.module("mwUI.UiComponents").directive("mwTabs",function(){return{transclude:!0,scope:{justified:"=",activePaneNumber:"="},templateUrl:"uikit/mw-ui-components/directives/templates/mw_tab_bar.html",controller:["$scope",function(a){var c=a.panes=[];a.select=function(d){b.forEach(c,function(a){a.selected=!1}),a.activePaneNumber&&(a.activePaneNumber=_.indexOf(a.panes,d)+1),d.selected=!0},this.registerPane=function(b){if(a.activePaneNumber&&a.activePaneNumber-1===c.length||!c.length&&!a.activePaneNumber){var d=a.activePaneNumber;a.select(b),a.activePaneNumber=d}c.push(b)}}]}}),b.module("mwUI.UiComponents").directive("mwTabsPane",function(){return{scope:{title:"@mwTabsPane",isInvalid:"="},transclude:!0,replace:!0,require:"^mwTabs",templateUrl:"uikit/mw-ui-components/directives/templates/mw_tab_pane.html",link:function(a,b,c,d){d.registerPane(a)}}}),b.module("mwUI.UiComponents").directive("mwTextCollapsible",["$filter",function(a){return{restrict:"A",scope:{collapsibleText:"@mwTextCollapsible",length:"="},templateUrl:"uikit/mw-ui-components/directives/templates/mw_text_collapsible.html",link:function(b){b.length&&"number"==typeof b.length?b.defaultLength=b.length:b.defaultLength=200,b.filterLength=b.defaultLength,b.text=function(){return a("reduceStringTo")(b.collapsibleText,b.filterLength)},b.showButton=!1,b.collapsibleText&&b.collapsibleText.length>b.defaultLength&&(b.showButton=!0),b.showLessOrMore=function(){return b.filterLength===b.defaultLength?"UiComponents.mwTextCollapsible.showMore":"UiComponents.mwTextCollapsible.showLess"},b.toggleLength=function(){b.filterLength===b.defaultLength?delete b.filterLength:b.filterLength=b.defaultLength}}}}]),b.module("mwUI.UiComponents").directive("mwTimeline",function(){return{transclude:!0,replace:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_timeline.html"}}),b.module("mwUI.UiComponents").directive("mwTimelineEntry",["$q",function(a){return{transclude:!0,replace:!0,template:'<li class="timeline-entry"><span class="bubble"></span><div ng-transclude></div></li>',scope:!0,require:"^mwTimelineFieldset",link:function(b,c,d,e){e.register(b),b.hide=function(){var b=a.defer();return c.fadeOut("slow",function(){b.resolve()}),b.promise},b.show=function(){var b=a.defer();return c.fadeIn("slow",function(){b.resolve()}),b.promise}}}}]),b.module("mwUI.UiComponents").directive("mwTimelineFieldset",["$q",function(a){return{scope:{mwTitle:"@",collapsable:"="},transclude:!0,replace:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_timeline_fieldset.html",controller:["$scope",function(b){b.entries=[],this.register=function(a){_.findWhere(b.entries,{$id:a.$id})||b.entries.push(a)},b.entriesVisible=!0,b.toggleEntries=function(){if(b.collapsable){var c=[];b.entries.forEach(function(a){b.entriesVisible?c.push(a.hide()):c.push(a.show())}),b.entriesVisible?a.all(c).then(function(){b.entriesVisible=!b.entriesVisible}):b.entriesVisible=!b.entriesVisible}},b.hiddenEntriesText=function(){return b.entries.length>1?"UiComponents.mwTimelineFieldset.entriesHiddenPlural":"UiComponents.mwTimelineFieldset.entriesHiddenSingular"}}]}}]),b.module("mwUI.UiComponents").directive("mwTooltip",function(){return{restrict:"A",scope:{text:"@mwTooltip",placement:"@"},link:function(a,b){a.$watch("text",function(){b.data("bs.popover").setContent()}),b.popover({trigger:"hover",placement:a.placement||"bottom",content:function(){return a.text},container:"body"});var c=function(){var a=b.data("bs.popover");a&&a.tip()&&a.tip().detach().remove()};a.$on("$destroy",function(){c()})}}}),b.module("mwUI.UiComponents").directive("mwViewChangeLoader",["$rootScope",function(a){return{templateUrl:"uikit/mw-ui-components/directives/templates/mw_view_change_loader.html",link:function(b){b.viewModel={loading:!1};var c=a.$on("$locationChangeSuccess",function(){b.viewModel.loading=!0}),d=a.$on("$routeChangeSuccess",function(){b.viewModel.loading=!1}),e=a.$on("$routeChangeError",function(){b.viewModel.loading=!1});b.$on("$destroy",function(){c(),d(),e()})}}}]),b.module("mwUI.UiComponents").directive("mwWizard",["Wizard",function(a){return{scope:{wizard:"=mwWizard"},transclude:!0,templateUrl:"uikit/mw-ui-components/directives/templates/mw_wizard.html",controller:["$scope",function(b){var c=b.wizard||a.createWizard(_.uniqueId("wizard_"));this.registerStep=function(a,b){c._registerStep(a,b)},this.unRegisterStep=function(a){c._unRegisterStep(a)},this.getWizard=function(){return c},b.$on("$destroy",function(){c.destroy()})}]}}]),b.module("mwUI.UiComponents").directive("mwWizardNavigation",function(){return{scope:{finishedAction:"&"},transclude:!0,require:"^mwWizard",templateUrl:"uikit/mw-ui-components/directives/templates/mw_wizard_navigation.html",link:function(a,b,c,d,e){a.wizard=d.getWizard(),a.finish=function(){a.$eval(a.finishedAction)},e(function(a){var c=b.find(".mw-wizard-navigation");a&&a.length>0&&c.addClass("has-extra-content")})}}}),b.module("mwUI.UiComponents").directive("mwWizardProgress",function(){return{require:"^mwWizard",templateUrl:"uikit/mw-ui-components/directives/templates/mw_wizard_progress.html",link:function(a,b,c,d){var e=d.getWizard();a.getProgress=function(){return(e.getCurrentStepNumber()+1)/e.getAllSteps().length*100}}}}),b.module("mwUI.UiComponents").directive("mwWizardStep",function(){return{restrict:"A",scope:!0,transclude:!0,replace:!0,require:"^mwWizard",templateUrl:"uikit/mw-ui-components/directives/templates/mw_wizard_step.html",link:function(a,b,c,d){a._isActive=!1,c.title=c.title||"noname",c.$observe("title",function(b){b&&b.length>0&&(a.title=b),d.registerStep(a,c.id)}),a.$on("$destroy",function(){d.unRegisterStep(a)})}}}),b.module("mwUI.UiComponents").provider("mwIcon",function(){var a=Backbone.Model.extend({defaults:function(){return{classPrefix:"",type:"FONTICON",iconsUrl:null,isLoading:!1,loaded:!1,icons:{}}},_throwNotValidIconError:function(){throw new Error("You have to set either icons or set a filePath")},_needsToBeLoaded:function(){return this.get("iconsUrl")&&!this.get("loaded")},loadFn:function(){throw new Error("Has to overwritten with a real loader fn")},$q:null,getIconForKey:function(a){var b,c=a.split("."),d=this.get("icons"),e=this.$q();if(c.forEach(function(a){b=b&&b[a]?b[a]:d[a]}),b&&!this._needsToBeLoaded())e.resolve(b);else{if(!this._needsToBeLoaded())throw new Error("No Icon was found for the key "+a);this.on("change:loaded",function(){return this.getIconForKey(a).then(function(a){e.resolve(a)})}.bind(this)),this.get("isLoading")||(this.set("isLoading",!0),this.loadFn().then(function(a){_.extend(this.get("icons"),a),this.set("isLoading",!1),this.set("loaded",!0)}.bind(this)))}return e.promise},isValidIcon:function(a){return a.icons&&_.size(a.icons)>0||a.iconsUrl},addIcons:function(a,b){var c=_.intersection(_.keys(this.get("icons")),_.keys(a));if(c.length>0&&!b)throw new Error("The icons "+c.join(",")+" already exists. If you want to replace them use the method replaceIcons");_.extend(this.get("icons"),a),c.length>0?this.trigger("icons:replace"):this.trigger("icons:add",a)},replaceIcons:function(a){this._needsToBeLoaded()?this.on("change:loaded",function(){this.addIcons(a,!0)}.bind(this)):this.addIcons(a,!0)},constructor:function(a,b){return this.isValidIcon(a)||this._throwNotValidIconError(),a.iconsUrl&&(a.loaded=!1),Backbone.Model.prototype.constructor.call(this,a,b)}}),b=Backbone.Collection.extend({model:a}),c=new b,d=function(a){if(!a.id)throw new Error("You have to set an identifier for you iconset");if(c.get(a.id))throw new Error("The iconset has already been registered");c.add(a)},e=function(a){var b=c.get(a);if(b)return b;throw new Error("No iconset has been found for the id "+a)};this.addIconSet=d,this.getIconSet=e,this.$get=["$q","$templateRequest",function(a,b){var f=function(c){c.$q=a.defer,c.loadFn=function(){return b(c.get("iconsUrl")).then(function(a){return JSON.parse(a)})}};return c.each(f),c.on("add",f),{addIconSet:d,getIconSet:e}}]}),b.module("mwUI.UiComponents").service("Wizard",function(){var a=[],b=function(a){var b=[],c=0,d=a;this._registerStep=function(a,c){b.length<1&&(a._isActive=!0),a.slideId=c||_.uniqueId(d+"_"),b.push(a)},this._unRegisterStep=function(a){var c=_.findWhere(b,{$id:a.$id}),d=_.indexOf(b,c);d>-1&&b.splice(d,1)},this.destroy=function(){var a=this;b.forEach(function(b){a._unRegisterStep(b)})},this.getId=function(){return d},this.getAllSteps=function(){return b},this.getCurrentStep=function(){return b[c]},this.getCurrentStepNumber=function(){return c},this.getCurrentStepId=function(){return b[c].slideId},this.getTotalStepAmount=function(){return b.length},this.hasNextStep=function(){return this.getCurrentStepNumber()<this.getTotalStepAmount()-1},this.hasPreviousStep=function(){return this.getCurrentStepNumber()>0},this.next=function(){this.goTo(c+1)},this.back=function(){this.goTo(c-1)},this.gotoStep=function(a){"string"==typeof a&&(a=_.findWhere(b,{slideId:a})),this.goTo(_.indexOf(b,a))},this.goTo=function(a){if(b[c]._isActive=!1,a>=b.length)throw new Error("Step "+(a+1)+" is not available");b[a]._isActive=!0,c=a}},c=function(b){var c=null;return a.forEach(function(a){a.getId===b&&(c=a)}),c},d=function(a){var b=c(a);if(b)return b;throw new Error("The wizard with the id "+a+" does not exist")},e=function(d){if(c(d))throw new Error("The wizard with the id "+d+" is already existing");var e=new b(d);return a.push(e),e};return{createWizard:e,getWizard:d}}),b.module("mwUI.UiComponents").config(["i18nProvider",function(a){a.addResource("uikit/mw-ui-components/i18n")}])}(window,angular);